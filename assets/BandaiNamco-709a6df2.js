import{g as H,r as m,u as x,t as U,c as t,j as _,C as g,F as V,l as y,p as T,B as L,f as q,k as J,A as K,S as O,G as X}from"./index-f51f0bb8.js";import{a as Z,g as ee,k as te,l as ae,m as re,n as le,o as se,G as oe,p as ne}from"./GRAPH_SOFTWARE_SALES-300de65a.js";import{k as ie,l as Q}from"./annual_report_cumulative-02044b1b.js";import{p as ce,q as ue,t as de,G as me,S as D,a as $,d as E,u as fe,b as G}from"./GRAPH_CONSOLIDATED_EARNINGS-59376d9d.js";import{T as M}from"./TextInput-19b9b500.js";import{S as F}from"./Space-328ea036.js";import"./ChevronIcon-19565fa5.js";const j=H(new Map,Object.assign({"./Software_Sales/software_sales_fy3_2019.json":te,"./Software_Sales/software_sales_fy3_2020.json":ae,"./Software_Sales/software_sales_fy3_2021.json":re,"./Software_Sales/software_sales_fy3_2022.json":le,"./Software_Sales/software_sales_fy3_2023.json":se}),"Descending"),W=new Map,z=new Map;j.forEach((r,a,f)=>{W.set(a,Z(r,f.get(a+1),38,"Billion","One Thousand")),z.set(a,ee(r,f.get(a+1),"Billion","One Thousand"))});j.clear();function he(r){const[a,f]=m.useState(""),h=x(e=>e.colour),c=x(e=>e.fontColor),[l,b]=m.useState(""),[C,S]=m.useState(0);let o=-1,s=ie.get(r.setIndex+o),i=new Set,p=U(s,"FY Series IP",a,l,i);const u=[{value:p.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${C}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===a);m.useEffect(()=>{switch(a){case p.sectionTitle:S(p.titlesLength.length);break}},[l,a]);const w=Array.from({length:r.yearLength},(e,n)=>[{name:"Data Sources",value:ce.get(n)},{name:"Consolidated Operating Results",value:ue.get(n),graph:t(me,{setData:de.get(n)})},{name:"Software Sales",value:W.get(n),graph:t(oe,{setData:z.get(n)})},{name:"FY Series IP",value:p.table}].filter(d=>d.value!==void 0)),v=w[r.setIndex].map(e=>e.name),k=e=>n=>{let[d]=e.filter(N=>n===N.name);return(d==null?void 0:d.value)||""},R=(e=>n=>{let[d]=e.filter(N=>n===N.name);return d==null?void 0:d.graph})(w[r.setIndex]),Y=k(w[r.setIndex]);function B(){setTimeout(()=>{f("")},10)}return _("div",{children:[v.filter(e=>e===a).length===0&&a.length!==0?B():t(D,{fullWidth:!0,orientation:"vertical",value:a,onChange:f,data:v}),a==="Data Sources"?Y(a):_(g,{onCopy:e=>$(e,E),style:{backgroundColor:`${h}`,color:c==="dark"?"#fff":"#000000"},block:!0,children:[a===p.sectionTitle?_(V,{children:[t(M,{placeholder:u[0].placeholder,label:u[0].label,description:u[0].description,radius:"xl",value:l,onChange:e=>{b(e.target.value.toLocaleLowerCase())}}),i.size>0&&l!==i.values().next().value?y(T("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,i.size>0&&l!==i.values().next().value?[...i].flatMap((e,n)=>n>3?[]:t(L,{onClick:()=>b(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${h}`,color:c==="dark"?"#fff":"#000000"},children:e})},e)):l===i.values().next().value||C===0?t(L,{onClick:()=>b(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${h}`,color:c==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,Y(a)]}),R(a)]})}function pe(){const[r,a]=m.useState(""),f=x(e=>e.colour),h=x(e=>e.fontColor),[c,l]=m.useState(""),[b,C]=m.useState(0),[S,o]=m.useState(6),[s,i]=m.useState("FY Cumulative");let p=q(Q.titleList,c),u=new Set;c.length!==0&&r==="Bandai Namco FY Series IP - Cumulative"&&p.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${c})\\w+`,"g"))].flat().map(n=>u.add(n)));let w=p.reduce((e,n)=>e+n.table,""),v=Q.header+w;const k=[{value:"Bandai Namco FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${b}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===r);m.useEffect(()=>{switch(r){case"Bandai Namco Consolidated Operating Results - Cumulative":o(s==="1st Quarter"?0:s==="2nd Quarter"?1:s==="3rd Quarter"?2:s==="4th Quarter"?3:s==="First Half"?4:s==="First Three Quarters"?5:6);break;case"Bandai Namco Sales Per Software Unit - Cumulative":o(s==="1st Quarter"?0:s==="2nd Quarter"?1:s==="3rd Quarter"?2:s==="4th Quarter"?3:s==="First Half"?4:s==="First Three Quarters"?5:6);break;case"Bandai Namco FY Series IP - Cumulative":C(p.length);break}},[c,r,s]);const I=[{name:"Bandai Namco Consolidated Operating Results - Cumulative",value:fe[S]},{name:"Bandai Namco Sales Per Software Unit - Cumulative",value:ne[S]},{name:"Bandai Namco FY Series IP - Cumulative",value:v}],R=I.map(e=>e.name),B=(e=>n=>{let[d]=e.filter(N=>n===N.name);return d?d.value:""})(I);return _("div",{children:[t(D,{fullWidth:!0,orientation:"vertical",value:r,onChange:a,data:R}),_(g,{onCopy:e=>$(e,E),style:{backgroundColor:`${f}`,color:h==="dark"?"#fff":"#000000"},block:!0,children:[r==="Bandai Namco Consolidated Operating Results - Cumulative"||r==="Bandai Namco Sales Per Software Unit - Cumulative"?t(G,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:s,onChange:i}):void 0,r==="Bandai Namco FY Series IP - Cumulative"?_(V,{children:[t(M,{placeholder:k[0].placeholder,label:k[0].label,description:k[0].description,radius:"xl",value:c,onChange:e=>{l(e.target.value.toLowerCase())}}),u.size>0&&c!==u.values().next().value?y(T("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,u.size>0&&c!==u.values().next().value?[...u].flatMap((e,n)=>n>3?[]:t(L,{onClick:()=>l(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${f}`,color:h==="dark"?"#fff":"#000000"},children:e})},e)):c===u.values().next().value||b===0?t(L,{onClick:()=>l(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${f}`,color:h==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,B(r)]}),t(F,{h:"xl"}),t(F,{h:"xl"}),t(F,{h:"xl"}),t(F,{h:"xl"})]})}const P=2023,ge=2023-2006,A=Array.from({length:ge+1},(r,a)=>"FY3/"+(P-a));function xe(){const r=y(T("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),f=J("Bandai Namco (They publish Dark Souls), this is where you can find archived Series IP data.",42,"−",80),[h,c]=m.useState("Data by Fiscal Year"),[l,b]=m.useState(""),C=x(i=>i.colour),S=x(i=>i.fontColor),s=(i=>p=>{let[u]=i.map((v,k)=>p===v?k:-1).filter(v=>v!==-1),w=i.length;return u>=0?t(he,{setIndex:u,yearLength:w}):null})(A);return _("div",{children:[t(O,{mb:"md",align:"center",children:t(g,{style:{backgroundColor:`${C}`,color:S==="dark"?"#fff":"#000000"},block:!0,children:f})}),t(O,{align:"center",children:_(g,{style:{backgroundColor:`${C}`,color:S==="dark"?"#fff":"#000000"},block:!0,children:[r,t(K,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:t(g,{style:{backgroundColor:`${C}`,color:S==="dark"?"#fff":"#000000"},block:!0,children:y(T("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),t(D,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:h,onChange:c,data:["Data by Fiscal Year","Special Page"]}),h==="Data by Fiscal Year"?t(X,{position:"center",children:t(G,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${P-(A.length-1)} to ${P}.`,description:`Fiscal Year ending March ${Number(l==null?void 0:l.slice(4,8))?l==null?void 0:l.slice(4,8):""}.`,radius:"xl",size:"md",data:A,value:l,onChange:b})}):t(pe,{}),h==="Data by Fiscal Year"&&typeof l=="string"?s(l):null]})}export{xe as default};
