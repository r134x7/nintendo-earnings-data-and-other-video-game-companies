import{k as z,r as h,u as A,t as H,c as a,j as S,C as b,F as Q,l as N,p as F,B as y,f as U,g as q,S as D,A as J,G as K}from"./index-8123f111.js";import{a as X,g as Z,j as ee,k as ae,l as te,m as re,n as le,G as se,o as oe}from"./GRAPH_SOFTWARE_SALES-ead32e22.js";import{k as ne,l as O}from"./annual_report_cumulative-d125b5a2.js";import{p as ie,q as ce,t as ue,G as de,S as P,a as V,d as $,u as me,b as E}from"./GRAPH_CONSOLIDATED_EARNINGS-17ffa36a.js";import{T as G}from"./TextInput-e885083c.js";import{S as x}from"./Space-6e951482.js";import"./ChevronIcon-d1ca0645.js";const M=z(new Map,Object.assign({"./Software_Sales/software_sales_fy3_2019.json":ee,"./Software_Sales/software_sales_fy3_2020.json":ae,"./Software_Sales/software_sales_fy3_2021.json":te,"./Software_Sales/software_sales_fy3_2022.json":re,"./Software_Sales/software_sales_fy3_2023.json":le}),"Descending"),j=new Map,W=new Map;M.forEach((r,t,c)=>{j.set(t,X(r,c.get(t+1),38,"Billion","One Thousand")),W.set(t,Z(r,c.get(t+1),"Billion","One Thousand"))});M.clear();function fe(r){const[t,c]=h.useState(""),s=A(e=>e),[m,i]=h.useState(""),[w,p]=h.useState(0);let o=-1,l=ne.get(r.setIndex+o),u=new Set,g=H(l,"FY Series IP",t,m,u);const d=[{value:g.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${w}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===t);h.useEffect(()=>{switch(t){case g.sectionTitle:p(g.titlesLength.length);break}},[m,t]);const v=Array.from({length:r.yearLength},(e,n)=>[{name:"Data Sources",value:ie.get(n)},{name:"Consolidated Operating Results",value:ce.get(n),graph:a(de,{setData:ue.get(n)})},{name:"Software Sales",value:j.get(n),graph:a(se,{setData:W.get(n)})},{name:"FY Series IP",value:g.table}].filter(f=>f.value!==void 0)),C=v[r.setIndex].map(e=>e.name),_=e=>n=>{let[f]=e.filter(k=>n===k.name);return(f==null?void 0:f.value)||""},L=(e=>n=>{let[f]=e.filter(k=>n===k.name);return f==null?void 0:f.graph})(v[r.setIndex]),I=_(v[r.setIndex]);function R(){setTimeout(()=>{c("")},10)}return S("div",{children:[C.filter(e=>e===t).length===0&&t.length!==0?R():a(P,{fullWidth:!0,orientation:"vertical",value:t,onChange:c,data:C}),t==="Data Sources"?I(t):S(b,{onCopy:e=>V(e,$),style:{backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[t===g.sectionTitle?S(Q,{children:[a(G,{placeholder:d[0].placeholder,label:d[0].label,description:d[0].description,radius:"xl",value:m,onChange:e=>{i(e.target.value.toLocaleLowerCase())}}),u.size>0&&m!==u.values().next().value?N(F("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,u.size>0&&m!==u.values().next().value?[...u].flatMap((e,n)=>n>3?[]:a(y,{onClick:()=>i(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):m===u.values().next().value||w===0?a(y,{onClick:()=>i(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,a("br",{})]}):void 0,I(t)]}),L(t)]})}function he(){const[r,t]=h.useState(""),c=A(e=>e),[s,m]=h.useState(""),[i,w]=h.useState(0),[p,o]=h.useState(6),[l,u]=h.useState("FY Cumulative");let g=U(O.titleList,s),d=new Set;s.length!==0&&r==="Bandai Namco FY Series IP - Cumulative"&&g.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${s})\\w+`,"g"))].flat().map(n=>d.add(n)));let v=g.reduce((e,n)=>e+n.table,""),C=O.header+v;const _=[{value:"Bandai Namco FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${i}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===r);h.useEffect(()=>{switch(r){case"Bandai Namco Consolidated Operating Results - Cumulative":o(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Bandai Namco Sales Per Software Unit - Cumulative":o(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Bandai Namco FY Series IP - Cumulative":w(g.length);break}},[s,r,l]);const T=[{name:"Bandai Namco Consolidated Operating Results - Cumulative",value:me[p]},{name:"Bandai Namco Sales Per Software Unit - Cumulative",value:oe[p]},{name:"Bandai Namco FY Series IP - Cumulative",value:C}],L=T.map(e=>e.name),R=(e=>n=>{let[f]=e.filter(k=>n===k.name);return f?f.value:""})(T);return S("div",{children:[a(P,{fullWidth:!0,orientation:"vertical",value:r,onChange:t,data:L}),S(b,{onCopy:e=>V(e,$),style:{backgroundColor:`${c.colour}`,color:c.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[r==="Bandai Namco Consolidated Operating Results - Cumulative"||r==="Bandai Namco Sales Per Software Unit - Cumulative"?a(E,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:l,onChange:u}):void 0,r==="Bandai Namco FY Series IP - Cumulative"?S(Q,{children:[a(G,{placeholder:_[0].placeholder,label:_[0].label,description:_[0].description,radius:"xl",value:s,onChange:e=>{m(e.target.value.toLowerCase())}}),d.size>0&&s!==d.values().next().value?N(F("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,d.size>0&&s!==d.values().next().value?[...d].flatMap((e,n)=>n>3?[]:a(y,{onClick:()=>m(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${c.colour}`,color:c.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):s===d.values().next().value||i===0?a(y,{onClick:()=>m(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${c.colour}`,color:c.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,a("br",{})]}):void 0,R(r)]}),a(x,{h:"xl"}),a(x,{h:"xl"}),a(x,{h:"xl"}),a(x,{h:"xl"})]})}const B=2023,pe=2023-2006,Y=Array.from({length:pe+1},(r,t)=>"FY3/"+(B-t));function ke(){const r=N(F("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),c=q("Bandai Namco (They publish Dark Souls), this is where you can find archived Series IP data.",42,"−",80),[s,m]=h.useState("Data by Fiscal Year"),[i,w]=h.useState(""),p=A(u=>u),l=(u=>g=>{let[d]=u.map((C,_)=>g===C?_:-1).filter(C=>C!==-1),v=u.length;return d>=0?a(fe,{setIndex:d,yearLength:v}):null})(Y);return S("div",{children:[a(D,{mb:"md",align:"center",children:a(b,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:c})}),a(D,{align:"center",children:S(b,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[r,a(J,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:a(b,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:N(F("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),a(P,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:s,onChange:m,data:["Data by Fiscal Year","Special Page"]}),s==="Data by Fiscal Year"?a(K,{position:"center",children:a(E,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${B-(Y.length-1)} to ${B}.`,description:`Fiscal Year ending March ${Number(i==null?void 0:i.slice(4,8))?i==null?void 0:i.slice(4,8):""}.`,radius:"xl",size:"md",data:Y,value:i,onChange:w})}):a(he,{}),s==="Data by Fiscal Year"&&typeof i=="string"?l(i):null]})}export{ke as default};
