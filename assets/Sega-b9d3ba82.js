import{g as te,r as C,u as W,e as ue,t as ce,c as t,j as x,C as k,F as ae,l as y,p as I,B as $,d as de,b as F,s as T,f as H,k as fe,S as z,A as me,G as he}from"./index-a777d9a8.js";import{s as Se,e as ge,f as pe,_ as ve,g as Ce,h as be,p as we,i as q}from"./annual_report_cumulative-f2d0bf76.js";import{a as _e,g as ye,e as Te,f as ke,h as xe,i as Le,G as Fe,s as Ie}from"./GRAPH_SOFTWARE_SALES-5722d8af.js";import{s as Pe,l as Ae,m as Ye,G as Re,S as B,a as le,b as G,d as re,o as Ue}from"./GRAPH_CONSOLIDATED_EARNINGS-daaf411f.js";import{G as $e}from"./GRAPH_NINTENDO_GLOBAL_HARDWARE_SOFTWARE_MOBILE-4516c987.js";import{T as se}from"./TextInput-25431407.js";import{S as U}from"./Space-d370d518.js";import"./ChevronIcon-03891aee.js";const oe=te(new Map,Object.assign({"./Software_Sales/software_sales_fy3_2020.json":Te,"./Software_Sales/software_sales_fy3_2021.json":ke,"./Software_Sales/software_sales_fy3_2022.json":xe,"./Software_Sales/software_sales_fy3_2023.json":Le}),"Descending"),ie=new Map,ne=new Map;oe.forEach((l,s,d)=>{ie.set(s,_e(l,d.get(s+1),38,"Billion","One Thousand")),ne.set(s,ye(l,d.get(s+1),"Billion","One Thousand"))});oe.clear();function Ge(l){var i;const[s,d]=C.useState(""),u=W(e=>e),[r,f]=C.useState(""),[b,p]=C.useState(0),[w,c]=C.useState("All");let n=-1,o=Se.get(l.setIndex+n),a=o===void 0?void 0:[o],h=(i=ge)==null?void 0:i[l.setIndex],m=new Set,v=new Set,S=ue(a,(o==null?void 0:o.header)??"ERROR","FY Series IP",s,w??"All","Single","Single",m,r,v),L=ce(h,"Software Units",s,r,v);const P=[{value:L.sectionTitle,placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${b}`,description:"Clear field to show all titles of the selected platform"},{value:S.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${b}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===s);C.useEffect(()=>{switch(s){case S.sectionTitle:p(S.titlesLength.length);let e=[...m].filter(g=>g===w);((e==null?void 0:e.length)??0)===0&&c("All");break;case L.sectionTitle:p(L.titlesLength.length);break}},[s,r,w,l.setIndex,m]);const A=Array.from({length:l.yearLength},(e,g)=>[{name:"Data Sources",value:Pe.get(g)},{name:"Consolidated Operating Results",value:Ae.get(g),graph:t(Re,{setData:Ye.get(g)})},{name:"Software Sales",value:ie.get(g),graph:t(Fe,{setData:ne.get(g)})},{name:"Software Units",value:L.table,graph:t($e,{setData:pe[g]})},{name:"FY Series IP",value:S.table}].filter(_=>_.value!==void 0)),R=A[l.setIndex].map(e=>e.name),Y=e=>g=>{let[_]=e.filter(N=>g===N.name);return(_==null?void 0:_.value)||""},M=(e=>g=>{let[_]=e.filter(N=>g===N.name);return _==null?void 0:_.graph})(A[l.setIndex]),V=Y(A[l.setIndex]);function E(){setTimeout(()=>{d("")},10)}return x("div",{children:[R.filter(e=>e===s).length===0&&s.length!==0?E():t(B,{fullWidth:!0,orientation:"vertical",value:s,onChange:d,data:R}),s==="Data Sources"?V(s):x(k,{onCopy:e=>le(e,re),style:{backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[s===S.sectionTitle?t(G,{data:["All"].concat([...m]),defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:w,onChange:c}):void 0,s===S.sectionTitle||s===L.sectionTitle?x(ae,{children:[t(se,{placeholder:P[0].placeholder,label:P[0].label,description:P[0].description,radius:"xl",value:r,onChange:e=>{f(e.target.value.toLowerCase())}}),v.size>0&&r!==v.values().next().value?y(I("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,v.size>0&&r!==v.values().next().value?[...v].flatMap((e,g)=>g>3?[]:t($,{onClick:()=>f(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(k,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):r===v.values().next().value||b===0?t($,{onClick:()=>f(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(k,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,V(s)]}),M(s)]})}const Q=[...te(new Map,Object.assign({"./Software_Units/software_units_fy3_2021.json":ve,"./Software_Units/software_units_fy3_2022.json":Ce,"./Software_Units/software_units_fy3_2023.json":be}),"Ascending").values()];var Z,ee;const J=de(((Z=Q.at(-1))==null?void 0:Z.fiscalYear)??"N/A",((ee=Q.at(-1))==null?void 0:ee.currentQuarter)??4),De=y(F([T(J,J.length+1,"left")]),"−","bottom",!0);function Me(l,s,d){let u=y(F([T(s,s.length+1,"left")]),"−","top",!0)+y(F([T("Full Game Software Unit Sales - Cumulative",43,"left")]),"−","both",!0)+d,r=l.map(o=>{let a=o.softwareUnits.flatMap(m=>we(m)),h=o.fiscalYear;return a.map(m=>({...m,fiscalYear:h}))}),f=r.flat().filter(o=>o.period==="4th Quarter"),b=r.flat().map(o=>o.name);const p=[...new Set(b)];function w(o){return o.map((a,h,m)=>f.filter(S=>S.name===a))}let n=w(p).map((o,a,h)=>o).sort((o,a)=>a[a.length-1].value>o[o.length-1].value?1:a[a.length-1].value<o[o.length-1].value?-1:0).map((o,a)=>{let h=a+1;return o.map(m=>({...m,rank:h}))});return{header:u,titles:n}}function Ve(l,s,d){const u=s.map((r,f,b)=>{let p=y(I(r[0].name,42),"−","both",!0,42),w=r[r.length-1].miscellaneous===void 0?void 0:r[r.length-1].miscellaneous,c=r.flatMap(a=>F([T(a.fiscalYear+" Cumulative",30,"left"),T(`${a.value/100}M`,9,"right")],!0)),n=Number(r.reduce((a,h)=>a+h.value,0)/100).toFixed(2),o=w===void 0?y(F([T("Sum (Units)",30,"left"),T(`${n}M`,9,"right")]),"−","both",!0):y(F([T("Sum",30,"left"),T(`${n}M`,9,"right")]),"−","both",!0)+y(I(w,42),"−","bottom",!0,42);return d?{title:r[0].name,table:[p,...c,o].reduce((a,h)=>a+h)}:[p,...c,o].reduce((a,h)=>a+h)});return d?{header:l,titleList:u}:[l,u.reduce((r,f)=>typeof f=="string"?r+f:r,"")].reduce((r,f)=>typeof f=="string"?r+f:r,"")}const K=Me(Q,"Sega Sammy",De),X=Ve(K.header,K.titles,!0);function Ee(){const[l,s]=C.useState(""),[d,u]=C.useState(""),[r,f]=C.useState(0),[b,p]=C.useState("All"),[w,c]=C.useState(6),[n,o]=C.useState("FY Cumulative"),a=W(i=>i);let h=q.titleList.filter(i=>{if(b==="All")return i;if(b===i.platforms)return i}),m=H(X.titleList,d),v=H(h,d),S=new Set;d.length!==0&&l==="Sega Sammy Software Units - Cumulative"?m.map(i=>[...i.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${d})\\w+`,"g"))].flat().map(e=>S.add(e))):d.length!==0&&l==="Sega Sammy FY Series IP - Cumulative"&&v.map(i=>[...i.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${d})\\w+`,"g"))].flat().map(e=>S.add(e)));let L=m.reduce((i,e)=>i+e.table,""),P=X.header+L,A=v.reduce((i,e)=>i+e.table,""),R=q.header+A;const Y=[{value:"Sega Sammy Software Units - Cumulative",placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${r}`,description:"Clear field to show all titles of the selected platform"},{value:"Sega Sammy FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${r}`,description:"Clear field to show all game series listed."}].filter(i=>i.value===l);C.useEffect(()=>{switch(l){case"Sega Sammy Consolidated Operating Results - Cumulative":c(n==="1st Quarter"?0:n==="2nd Quarter"?1:n==="3rd Quarter"?2:n==="4th Quarter"?3:n==="First Half"?4:n==="First Three Quarters"?5:6);break;case"Sega Sammy Sales Per Software Unit - Cumulative":c(n==="1st Quarter"?0:n==="2nd Quarter"?1:n==="3rd Quarter"?2:n==="4th Quarter"?3:n==="First Half"?4:n==="First Three Quarters"?5:6);break;case"Sega Sammy Software Units - Cumulative":f(m.length);break;case"Sega Sammy FY Series IP - Cumulative":f(v.length);break}},[d,l,b,n]);const D=[{name:"Sega Sammy Consolidated Operating Results - Cumulative",value:Ue[w]},{name:"Sega Sammy Sales Per Software Unit - Cumulative",value:Ie[w]},{name:"Sega Sammy Software Units - Cumulative",value:P},{name:"Sega Sammy FY Series IP - Cumulative",value:R}],M=D.map(i=>i.name),E=(i=>e=>{let[g]=i.filter(_=>e===_.name);return g?g.value:""})(D);return x("div",{children:[t(B,{fullWidth:!0,orientation:"vertical",value:l,onChange:s,data:M}),x(k,{onCopy:i=>le(i,re),style:{backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l==="Sega Sammy Consolidated Operating Results - Cumulative"||l==="Sega Sammy Sales Per Software Unit - Cumulative"?t(G,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:n,onChange:o}):void 0,l==="Sega Sammy FY Series IP - Cumulative"?t(G,{data:["All","Developed in-house IP","Acquired IP","Licensed third party IP"],defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:b,onChange:p}):void 0,l==="Sega Sammy Software Units - Cumulative"||l==="Sega Sammy FY Series IP - Cumulative"?x(ae,{children:[t(se,{placeholder:Y[0].placeholder,label:Y[0].label,description:Y[0].description,radius:"xl",value:d,onChange:i=>{u(i.target.value.toLowerCase())}}),S.size>0&&d!==S.values().next().value?y(I("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,S.size>0&&d!==S.values().next().value?[...S].flatMap((i,e)=>e>3?[]:t($,{onClick:()=>u(i),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(k,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},children:i})},i)):d===S.values().next().value||r===0?t($,{onClick:()=>u(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(k,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,E(l)]}),t(U,{h:"xl"}),t(U,{h:"xl"}),t(U,{h:"xl"}),t(U,{h:"xl"})]})}const j=2023,Ne=2023-2005,O=Array.from({length:Ne+1},(l,s)=>"FY3/"+(j-s));function Je(){const l=y(I("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),d=fe("Sega (They publish Hatsune Miku games), this is where you can find archived Sega Series IP data.",40,"−",80),[u,r]=C.useState(""),[f,b]=C.useState("Data by Fiscal Year"),p=W(n=>n),c=(n=>o=>{let[a]=n.map((m,v)=>o===m?v:-1).filter(m=>m!==-1),h=n.length;return a>=0?t(Ge,{setIndex:a,yearLength:h}):null})(O);return x("div",{children:[t(z,{mb:"md",align:"center",children:t(k,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:d})}),t(z,{align:"center",children:x(k,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l,t(me,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:t(k,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:y(I("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),t(B,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:f,onChange:b,data:["Data by Fiscal Year","Special Page"]}),f==="Data by Fiscal Year"?t(he,{position:"center",children:t(G,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${j-(O.length-1)} to ${j}.`,description:`Fiscal Year ending March ${Number(u==null?void 0:u.slice(4,8))?u==null?void 0:u.slice(4,8):""}.`,radius:"xl",size:"md",data:O,value:u,onChange:r})}):t(Ee,{}),f==="Data by Fiscal Year"&&typeof u=="string"?c(u):null]})}export{Je as default};
