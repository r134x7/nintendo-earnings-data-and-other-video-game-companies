import{r as m,u as E,t as M,c as t,j as x,C as p,F as V,l as R,p as I,B as Y,f as O,k as U,A as B,S as $,G as H}from"./index-6f34b74a.js";import{z as j,A as X,G as J,B as K}from"./GRAPH_SOFTWARE_SALES-a3f099c6.js";import{m as Z,n as P}from"./annual_report_cumulative-7865d7d6.js";import{z as ee,A as te,D as ae,G as re,S as D,a as G,d as _,E as le,b as z}from"./GRAPH_CONSOLIDATED_EARNINGS-d022b52c.js";import{T as W}from"./TextInput-ce70a23b.js";import{S as L}from"./Space-167031de.js";import"./ChevronIcon-abe3db39.js";function se(l){const[o,C]=m.useState(""),n=E(e=>e.colour),i=E(e=>e.fontColor),[u,S]=m.useState(""),[v,b]=m.useState(0);let a=new Set,r=-2,f=Z.get(l.setIndex+r),h=M(f,"FY Series IP",o,u,a);const c=[{value:h.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${v}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===o);m.useEffect(()=>{switch(o){case h.sectionTitle:b(h.titlesLength.length);break}},[u,o,l.setIndex]);const k=Array.from({length:l.yearLength},(e,s)=>[{name:"Data Sources",value:ee.get(s)},{name:"Consolidated Financial Results",value:te.get(s),graph:t(re,{setData:ae.get(s)})},{name:"Software Sales",value:j.get(s),graph:t(J,{setData:X.get(s)})},{name:"FY Series IP",value:h.table}].filter(d=>d.value!==void 0)),g=k[l.setIndex].map(e=>e.name),F=e=>s=>{let[d]=e.filter(w=>s===w.name);return(d==null?void 0:d.value)||""},T=e=>s=>{let[d]=e.filter(w=>s===w.name);return d==null?void 0:d.graph},y=F(k[l.setIndex]),N=T(k[l.setIndex]);function q(){setTimeout(()=>{C("")},10)}return x("div",{children:[g.filter(e=>e===o).length===0&&o.length!==0?q():t(D,{fullWidth:!0,orientation:"vertical",value:o,onChange:C,data:g}),o==="Data Sources"?y(o):x(p,{onCopy:e=>G(e,_),style:{backgroundColor:`${n}`,color:i==="dark"?"#fff":"#000000"},block:!0,children:[o===h.sectionTitle?x(V,{children:[t(W,{placeholder:c[0].placeholder,label:c[0].label,description:c[0].description,radius:"xl",value:u,onChange:e=>{S(e.target.value.toLowerCase())}}),a.size>0&&u!==a.values().next().value?R(I("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,a.size>0&&u!==a.values().next().value?[...a].flatMap((e,s)=>s>3?[]:t(Y,{onClick:()=>S(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(p,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${n}`,color:i==="dark"?"#fff":"#000000"},children:e})},e)):u===a.values().next().value||v===0?t(Y,{onClick:()=>S(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(p,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${n}`,color:i==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,y(o)]}),N(o)]})}function oe(){const[l,o]=m.useState(""),C=E(e=>e.colour),n=E(e=>e.fontColor),[i,u]=m.useState(""),[S,v]=m.useState(0),[b,a]=m.useState(6),[r,f]=m.useState("FY Cumulative");let h=O(P.titleList,i),c=new Set;i.length!==0&&l==="Square Enix FY Series IP - Cumulative"&&h.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${i})\\w+`,"g"))].flat().map(s=>c.add(s)));let k=h.reduce((e,s)=>e+s.table,""),g=P.header+k+P.footnotes;const F=[{value:"Square Enix FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${S}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===l);m.useEffect(()=>{switch(l){case"Square Enix Consolidated Financial Results - Cumulative":a(r==="1st Quarter"?0:r==="2nd Quarter"?1:r==="3rd Quarter"?2:r==="4th Quarter"?3:r==="First Half"?4:r==="First Three Quarters"?5:6);break;case"Square Enix Sales Per Software Unit - Cumulative":a(r==="1st Quarter"?0:r==="2nd Quarter"?1:r==="3rd Quarter"?2:r==="4th Quarter"?3:r==="First Half"?4:r==="First Three Quarters"?5:6);break;case"Square Enix FY Series IP - Cumulative":v(h.length);break}},[i,l,r]);const T=[{name:"Square Enix Consolidated Financial Results - Cumulative",value:le[b]},{name:"Square Enix Sales Per Software Unit - Cumulative",value:K[b]},{name:"Square Enix FY Series IP - Cumulative",value:g}],y=T.map(e=>e.name),q=(e=>s=>{let[d]=e.filter(w=>s===w.name);return d?d.value:""})(T);return x("div",{children:[t(D,{fullWidth:!0,orientation:"vertical",value:l,onChange:o,data:y}),x(p,{onCopy:e=>G(e,_),style:{backgroundColor:`${C}`,color:n==="dark"?"#fff":"#000000"},block:!0,children:[l==="Square Enix Consolidated Financial Results - Cumulative"||l==="Square Enix Sales Per Software Unit - Cumulative"?t(z,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:r,onChange:f}):void 0,l==="Square Enix FY Series IP - Cumulative"?x(V,{children:[t(W,{placeholder:F[0].placeholder,label:F[0].label,description:F[0].description,radius:"xl",value:i,onChange:e=>{u(e.target.value.toLowerCase())}}),c.size>0&&i!==c.values().next().value?R(I("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,c.size>0&&i!==c.values().next().value?[...c].flatMap((e,s)=>s>3?[]:t(Y,{onClick:()=>u(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(p,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${C}`,color:n==="dark"?"#fff":"#000000"},children:e})},e)):i===c.values().next().value||S===0?t(Y,{onClick:()=>u(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(p,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${C}`,color:n==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,q(l)]}),t(L,{h:"xl"}),t(L,{h:"xl"}),t(L,{h:"xl"}),t(L,{h:"xl"})]})}const A=2024,ne=A-2004,Q=Array.from({length:ne+1},(l,o)=>"FY3/"+(A-o));function pe(){const l=R(I("Also, visit Install Base. It's a place to discuss and elaborate on the business side of the video game industry.",40),"=","top",!0,40),C=U("Square Enix (They publish Marvel's Avengers), this is where you can find archived data.",40,"−",80),[n,i]=m.useState(""),[u,S]=m.useState("Data by Fiscal Year"),v=E(f=>f.colour),b=E(f=>f.fontColor),r=(f=>h=>{let[c]=f.map((g,F)=>h===g?F:-1).filter(g=>g!==-1),k=f.length;return c>=0?t(se,{setIndex:c,yearLength:k}):null})(Q);return x("div",{children:[t($,{mb:"md",align:"center",children:t(p,{style:{backgroundColor:`${v}`,color:b==="dark"?"#fff":"#000000"},block:!0,children:C})}),t($,{mb:"md",align:"center",children:x(p,{style:{backgroundColor:`${v}`,color:b==="dark"?"#fff":"#000000"},block:!0,children:[l,t(B,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/",target:"_blank",children:t(p,{style:{backgroundColor:`${v}`,color:b==="dark"?"#fff":"#000000"},block:!0,children:R(I("https://www.installbaseforum.com/",36),"−","both",!0,36)})})]})}),t(D,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:u,onChange:S,data:["Data by Fiscal Year","Special Page"]}),u==="Data by Fiscal Year"?t(H,{position:"center",children:t(z,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${A-(Q.length-1)} to ${A}.`,description:`Fiscal Year ending March ${Number(n==null?void 0:n.slice(4,8))?n==null?void 0:n.slice(4,8):""}.`,radius:"xl",size:"md",data:Q,value:n,onChange:i})}):t(oe,{}),u==="Data by Fiscal Year"&&typeof n=="string"?r(n):null]})}export{pe as default};
