import{d as U,l as w,b as j,s as q,h as J,r as v,u as O,t as K,c as a,j as k,C as b,F as V,p as Y,B as T,f as X,g as Z,S as E,A as ee,G as ae}from"./index-31cb2b85.js";import{j as te,k as re,l as se,m as le,n as oe,d as ne,g as ie,G as ce,o as ue}from"./GRAPH_SOFTWARE_SALES-6a4de610.js";import{p as de,a as me,b as he,c as fe,d as pe,f as Q}from"./annual_report_cml_data-50c1218b.js";import{p as ve,q as ge,t as be,G as Ce,S as M,a as $,d as H,u as Se,b as G}from"./GRAPH_CONSOLIDATED_EARNINGS-ce585e49.js";import{T as z}from"./TextInput-8aebddde.js";import{S as F}from"./Space-20864486.js";import"./ChevronIcon-ee121e10.js";const g=new Map;g.set(g.size,te);g.set(g.size,re);g.set(g.size,se);g.set(g.size,le);g.set(g.size,oe);const W=new Map,_=new Map;g.forEach((t,l,o)=>{W.set(l,ne(t,o.get(l+1),38,"Billion","One Thousand")),_.set(l,ie(t,o.get(l+1),"Billion","One Thousand"))});g.clear();const ke=[me,he,fe,pe],xe=t=>t.series.map(o=>({title:o.title,releaseDate:o.releaseDate,fyEndMonth:o.fyEndMonth,value:o.value,valueLastFY:o.valueLastFY,valueLastTwoFYs:o.valueLastTwoFYs,miscellaneous:o.miscellaneous})),P=ke.map((t,l,o)=>{let s={bandaiNamcoHeader:"Bandai Namco - IP Series Data",secondHeader:"First appearance to recent FY",thirdHeader:"Rank",fourthHeader:"Units",ltd:"Life-To-Date",summaryHeader:" Placeholder",fiscalYear:t.fiscalYear,fiscalYearYoY:t.fiscalYear+" Cml. YoY%"},C=xe(t).filter((r,c,m)=>r).sort((r,c)=>c.value-c.valueLastFY>r.value-r.valueLastFY?1:c.value-c.valueLastFY<r.value-r.valueLastFY?-1:0).map((r,c)=>({...r,rank:c+1})).map(r=>({title:r.title,table:de(r,s,42,11)}));const h=U(t.fiscalYear??"N/A",4),n=w(j([q(h,h.length+1,"left")]),"−","both",!0);return{header:J([s.bandaiNamcoHeader,s.secondHeader,s.thirdHeader,s.fourthHeader],32)+`
`+n,titleList:C}});function Le(t){const[l,o]=v.useState(""),s=O(e=>e),[f,d]=v.useState(""),[C,h]=v.useState(0);let n=-1,i=P==null?void 0:P[t.setIndex+n],r=new Set,c=K(i,"FY Series IP",l,f,r);const m=[{value:c.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${C}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===l);v.useEffect(()=>{switch(l){case c.sectionTitle:h(c.titlesLength.length);break}},[f,l]);const x=Array.from({length:t.yearLength},(e,u)=>{var p;return[{name:"Data Sources",value:(p=ve)==null?void 0:p[u]},{name:"Consolidated Operating Results",value:ge.get(u),graph:a(Ce,{setData:be.get(u)})},{name:"Software Sales",value:W.get(u),graph:a(ce,{setData:_.get(u)})},{name:"FY Series IP",value:c.table}].filter(N=>N.value!==void 0)}),S=x[t.setIndex].map(e=>e.name),L=e=>u=>{let[p]=e.filter(N=>u===N.name);return(p==null?void 0:p.value)||""},B=(e=>u=>{let[p]=e.filter(N=>u===N.name);return p==null?void 0:p.graph})(x[t.setIndex]),R=L(x[t.setIndex]);function I(){setTimeout(()=>{o("")},10)}return k("div",{children:[S.filter(e=>e===l).length===0&&l.length!==0?I():a(M,{fullWidth:!0,orientation:"vertical",value:l,onChange:o,data:S}),l==="Data Sources"?R(l):k(b,{onCopy:e=>$(e,H),style:{backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l===c.sectionTitle?k(V,{children:[a(z,{placeholder:m[0].placeholder,label:m[0].label,description:m[0].description,radius:"xl",value:f,onChange:e=>{d(e.target.value.toLocaleLowerCase())}}),r.size>0&&f!==r.values().next().value?w(Y("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,r.size>0&&f!==r.values().next().value?[...r].flatMap((e,u)=>u>3?[]:a(T,{onClick:()=>d(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):f===r.values().next().value||C===0?a(T,{onClick:()=>d(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,a("br",{})]}):void 0,R(l)]}),B(l)]})}function Ne(){const[t,l]=v.useState(""),o=O(e=>e),[s,f]=v.useState(""),[d,C]=v.useState(0),[h,n]=v.useState(6),[i,r]=v.useState("FY Cumulative");let c=X(Q.titleList,s),m=new Set;s.length!==0&&t==="Bandai Namco FY Series IP - Cumulative"&&c.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${s})\\w+`,"g"))].flat().map(u=>m.add(u)));let x=c.reduce((e,u)=>e+u.table,""),S=Q.header+x;const L=[{value:"Bandai Namco FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${d}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===t);v.useEffect(()=>{switch(t){case"Bandai Namco Consolidated Operating Results - Cumulative":n(i==="1st Quarter"?0:i==="2nd Quarter"?1:i==="3rd Quarter"?2:i==="4th Quarter"?3:i==="First Half"?4:i==="First Three Quarters"?5:6);break;case"Bandai Namco Sales Per Software Unit - Cumulative":n(i==="1st Quarter"?0:i==="2nd Quarter"?1:i==="3rd Quarter"?2:i==="4th Quarter"?3:i==="First Half"?4:i==="First Three Quarters"?5:6);break;case"Bandai Namco FY Series IP - Cumulative":C(c.length);break}},[s,t,i]);const y=[{name:"Bandai Namco Consolidated Operating Results - Cumulative",value:Se[h]},{name:"Bandai Namco Sales Per Software Unit - Cumulative",value:ue[h]},{name:"Bandai Namco FY Series IP - Cumulative",value:S}],B=y.map(e=>e.name),I=(e=>u=>{let[p]=e.filter(N=>u===N.name);return p?p.value:""})(y);return k("div",{children:[a(M,{fullWidth:!0,orientation:"vertical",value:t,onChange:l,data:B}),k(b,{onCopy:e=>$(e,H),style:{backgroundColor:`${o.colour}`,color:o.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[t==="Bandai Namco Consolidated Operating Results - Cumulative"||t==="Bandai Namco Sales Per Software Unit - Cumulative"?a(G,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:i,onChange:r}):void 0,t==="Bandai Namco FY Series IP - Cumulative"?k(V,{children:[a(z,{placeholder:L[0].placeholder,label:L[0].label,description:L[0].description,radius:"xl",value:s,onChange:e=>{f(e.target.value.toLowerCase())}}),m.size>0&&s!==m.values().next().value?w(Y("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,m.size>0&&s!==m.values().next().value?[...m].flatMap((e,u)=>u>3?[]:a(T,{onClick:()=>f(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${o.colour}`,color:o.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):s===m.values().next().value||d===0?a(T,{onClick:()=>f(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${o.colour}`,color:o.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,a("br",{})]}):void 0,I(t)]}),a(F,{h:"xl"}),a(F,{h:"xl"}),a(F,{h:"xl"}),a(F,{h:"xl"})]})}const A=2023,we=2023-2006,D=Array.from({length:we+1},(t,l)=>"FY3/"+(A-l));function Pe(){const t=w(Y("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),o=Z("Bandai Namco (They publish Dark Souls), this is where you can find archived Series IP data.",42,"−",80),[s,f]=v.useState("Data by Fiscal Year"),[d,C]=v.useState(""),h=O(r=>r),i=(r=>c=>{let[m]=r.map((S,L)=>c===S?L:-1).filter(S=>S!==-1),x=r.length;return m>=0?a(Le,{setIndex:m,yearLength:x}):null})(D);return k("div",{children:[a(E,{mb:"md",align:"center",children:a(b,{style:{backgroundColor:`${h.colour}`,color:h.fontColor==="dark"?"#fff":"#000000"},block:!0,children:o})}),a(E,{align:"center",children:k(b,{style:{backgroundColor:`${h.colour}`,color:h.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[t,a(ee,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:a(b,{style:{backgroundColor:`${h.colour}`,color:h.fontColor==="dark"?"#fff":"#000000"},block:!0,children:w(Y("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),a(M,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:s,onChange:f,data:["Data by Fiscal Year","Special Page"]}),s==="Data by Fiscal Year"?a(ae,{position:"center",children:a(G,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${A-(D.length-1)} to ${A}.`,description:`Fiscal Year ending March ${Number(d==null?void 0:d.slice(4,8))?d==null?void 0:d.slice(4,8):""}.`,radius:"xl",size:"md",data:D,value:d,onChange:C})}):a(Ne,{}),s==="Data by Fiscal Year"&&typeof d=="string"?i(d):null]})}export{Pe as default};
