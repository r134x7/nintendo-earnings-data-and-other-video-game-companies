import{d as W,l as g,b as p,s as u,p as h}from"./index-e69d02e7.js";const Z=e=>`+${"−".repeat(27)}+
${e.firstHeader} ${e.fiscalYear} |
+${"−".repeat(27)}+
${e.secondHeader}
+${"−".repeat(21)}+
`;function $(e){return e.map((t,s,n)=>s===0?t:{...t,value:t.value-n[s-1].value})}function le(e,a){return e.map((s,n,r)=>a[n].value<0?{...s,units:"percentage",value:Number(((s.value/a[n].value-1)*-1*100).toFixed(2))}:a[n].value===0?{...s,units:"NaN",value:0}:{...s,units:"percentage",value:Number(((s.value/a[n].value-1)*100).toFixed(2))})}const D=`+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
|             |             |          | Sales Per |
|             |             | Software |  Software |
|             |       Sales |    Units |      Unit |
+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
`,ca=`+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
|                 |             |          | Sales Per |
|                 |             | Software |  Software |
|                 |       Sales |    Units |      Unit |
+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
`,pe=`+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
|             |    Sales    |   YoY%   |
+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
`,Ne=(e,a,t,s)=>{const n=$(e),r=$(a),o=Fe(n,r);return n.filter((i,c,m)=>c<s&&m[c].value!==0).map((i,c,m)=>{let d=`¥${(i.value*1e3).toLocaleString("en")}M`;return r[c].units==="NaN"?g(p([u(i.period,12,"left"),u(d,12,"right")]),m[c]===m.at(-1)?"=":"−","bottom",!0):g(p([u(i.period,12,"left"),u(d,12,"right"),u(o[c],10,"right")]),m[c]===m.at(-1)?"=":"−","bottom",!0)})},Ve=(e,a,t,s)=>{const n=Fe(e,a).filter((o,l)=>l!==0);return e.filter((o,l,i)=>l!==0&&l<s&&i[l].value!==0).map((o,l,i)=>{let c=`¥${(o.value*1e3).toLocaleString("en")}M`,m=s===4&&i[l]===i.at(-1)?`${t.fiscalYear} ${o.cmlPeriod}`:o.cmlPeriod;return a[l].units==="NaN"?g(p([u(m,12,"left"),u(c,12,"right")]),i[l]===i.at(-1)?"=":"−","bottom",!0):g(p([u(m,12,"left"),u(c,12,"right"),u(n[l],10,"right")]),i[l]===i.at(-1)?"=":"−","bottom",!0)})},Fe=(e,a)=>le(e,a).map(r=>r.value>0?`+${r.value}%`:`${r.value}%`).map(r=>u(r,9,"right")),ma=(e,a,t,s)=>{const n=e.map((o,l,i)=>`¥${(o.value*1e3).toLocaleString("en")}M`);return e.flatMap((o,l,i)=>{if(o.value===0)return[];let c=Number((o.value*1e3/(a[l].value/1e3)).toFixed(0)),m=isNaN(c)?"N/A":`¥${c.toLocaleString("en")}`,d=`${a[l].value/1e3}M`,S=s===4&&l===i.length-1&&i.length===1?`${t.fiscalYear.slice(0,4)+(Number(t.fiscalYear.slice(4))+1).toString()} ${o.period}`:s===4&&l===i.length-1&&o.period==="Forecast"?`${t.fiscalYear.slice(0,4)+(Number(t.fiscalYear.slice(4))+1).toString()} ${o.period}`:l===0?`${t.fiscalYear} ${o.period}`:o.period;return g(p([u(S,16,"left"),u(n[l],12,"right"),u(d,9,"right"),u(m,10,"right")]),i[l]===i.at(-1)?"=":"−","bottom",!0)})},y=(e,a,t,s,n,r)=>{const o=$(e),l=$(a),i=$(t),c=$(s),m=Ye(o,l,i,c),d=o.filter((C,Q,N)=>Q<r).map((C,Q,N)=>`¥${(C.value*1e3).toLocaleString("en")}M`);return o.filter((C,Q,N)=>Q<r).flatMap((C,Q,N)=>{if(C.value===0&&i[Q].value===0)return[];let f=Number((C.value*1e3/(i[Q].value/1e3)).toFixed(0)),v=isNaN(f)?"N/A":`¥${f.toLocaleString("en")}`,Y=`${i[Q].value/1e3}M`;return l[Q].units==="NaN"||l[Q].value===0?g(p([u(C.period,12,"left"),u(d[Q],12,"right"),u(Y,9,"right"),u(v,10,"right")]),N[Q]===N.at(-1)?"=":"−","bottom",!0):g(p([u(C.period,12,"left"),u(d[Q],12,"right"),u(Y,9,"right"),u(v,10,"right")],!0)+m[Q],N[Q]===N.at(-1)?"=":"−","bottom",!0,50)})},A=(e,a,t,s,n,r)=>{const o=Ye(e,a,t,s).filter((c,m)=>m!==0),l=e.filter((c,m,d)=>m!==0&&m<r&&d[m].value!==0).map((c,m,d)=>{let S=`¥${(c.value*1e3).toLocaleString("en")}M`;return u(S,12,"right")});return e.filter((c,m,d)=>m!==0&&m<r&&d[m].value!==0).map((c,m,d)=>{let C=`¥${Number((c.value*1e3/(t[m+1].value/1e3)).toFixed(0)).toLocaleString("en")}`,Q=`${t[m+1].value/1e3}M`,N=r===4&&d[m]===d.at(-1)?`${n.fiscalYear} ${c.cmlPeriod}`:c.cmlPeriod;return a[m].units==="NaN"?g(p([u(N,12,"left"),u(l[m],12,"right"),u(Q,9,"right"),u(C,10,"right")]),d[m]===d.at(-1)?"=":"−","bottom",!0):g(p([u(N,12,"left"),u(l[m],12,"right"),u(Q,9,"right"),u(C,10,"right")],!0)+o[m],d[m]===d.at(-1)?"=":"−","bottom",!0,50)})},Ye=(e,a,t,s)=>{const n=e.map((f,v,Y)=>({...f,value:Number((f.value*1e3/(t[v].value/1e3)).toFixed(0))})),r=a.map((f,v,Y)=>({...f,value:Number((f.value*1e3/(s[v].value/1e3)).toFixed(0))})),o=le(e,a),l=le(n,r),i=le(t,s);let c=o.map(f=>f.value>0?`+${f.value}%`:`${f.value}%`),m=l.map(f=>isNaN(f.value)?"N/A":f.value>0?`+${f.value}%`:`${f.value}%`),d=i.map(f=>f.value>0?`+${f.value}%`:`${f.value}%`),S=m.map(f=>u(f,10,"right")),C=d.map(f=>u(f,9,"right")),Q=c.map(f=>u(f,12,"right"));return l.map((f,v)=>{let Y=u("YoY%",12,"right");return p([Y,Q[v],C[v],S[v]])})},da=(e,a,t,s,n,r)=>{var m;const o=Z(n),l=W(n.fiscalYear,r),i=g(p([u(l,l.length+1,"left")]),"−","both",!0),c=[g(h(e[0].name,32),"−","top",!0,32),D,...y(e,a,t,s,n,r),...A(e,a,t,s,n,r),g(h((m=e[0])==null?void 0:m.notes,50),"−","bottom",!0,50)].flat();return[o,i,...c].reduce((d,S)=>d+S)},fa=(e,a,t,s,n,r)=>{var m;const o=Z(n),l=W(n.fiscalYear,r),i=g(p([u(l,l.length+1,"left")]),"−","both",!0),c=[g(h(e[0].name,32),"−","top",!0),D,...y(e,a,t,s,n,r),...A(e,a,t,s,n,r),g(h((m=e[0])==null?void 0:m.notes,50),"−","bottom",!0,50)].flat();return[o,i,...c].reduce((d,S)=>d+S)},ga=(e,a,t,s,n,r)=>{var m;const o=Z(n),l=W(n.fiscalYear,r),i=g(p([u(l,l.length+1,"left")]),"−","both",!0),c=[g(h(e[0].name,40),"−","top",!0,40),D,...y(e,a,t,s,n,r),...A(e,a,t,s,n,r),g(h((m=e[0])==null?void 0:m.notes,50),"−","bottom",!0,50)].flat();return[o,i,...c].reduce((d,S)=>d+S)},K=(e,a,t,s)=>{var r;return[...[g(h(e[0].name+" Forecast",40),"−","top",!0,40),ca,...ma(e,a,t,s),g(h((r=e[0])==null?void 0:r.notes,50),"−","bottom",!0,50)].flat()].reduce((o,l)=>o+l)},Sa=(e,a,t,s,n,r)=>{var l;return[...[g(h(e[0].name,32),"−","top",!0,32),D,...y(e,a,t,s,n,r),...A(e,a,t,s,n,r),g(h((l=e[0])==null?void 0:l.notes,50),"−","bottom",!0,50)].flat()].reduce((i,c)=>i+c)},Qa=(e,a,t,s,n,r)=>{var l;return[...[g(h(e[0].name,32),"−","top",!0,32),D,...y(e,a,t,s,n,r),...A(e,a,t,s,n,r),g(h((l=e[0])==null?void 0:l.notes,50),"−","bottom",!0,50)].flat()].reduce((i,c)=>i+c)},Ca=(e,a,t,s,n,r)=>{var m;const o=Z(n),l=W(n.fiscalYear,r),i=g(p([u(l,l.length+1,"left")]),"−","both",!0),c=[g(h(e[0].name,32),"−","top",!0),D,...y(e,a,t,s,n,r),...A(e,a,t,s,n,r),g(h((m=e[0])==null?void 0:m.notes,50),"−","bottom",!0,50)].flat();return[o,i,...c].reduce((d,S)=>d+S)},he=(e,a,t,s,n,r,o,l,i,c)=>{var N,f,v;const m=Z(i),d=W(i.fiscalYear,c),S=g(p([u(d,d.length+1,"left")]),"−","both",!0),C=[g(h(e[0].name,32),"−","top",!0,32),pe,...Ne(e,a,i,c),...Ve(e,a,i,c),g(h((N=e[0])==null?void 0:N.notes,38),"−","bottom",!0,38),g(h(t[0].name,32),"−","top",!0,32),pe,...Ne(t,s,i,c),...Ve(t,s,i,c),g(h((f=t[0])==null?void 0:f.notes,38),"−","bottom",!0,38)].flat(),Q=[g(h(n[0].name,32),"−","top",!0,32),D,...y(n,r,o,l,i,c),...A(n,r,o,l,i,c),g(h((v=n[0])==null?void 0:v.notes,50),"−","bottom",!0,50)].flat();return[m,S,...C,...Q].reduce((Y,R)=>Y+R)},oe=(e,a,t,s,n,r,o)=>{let l=$(e),i=$(a),c=$(t),m=$(s),d=l.filter((P,F,T)=>F<o).map((P,F,T)=>{let M=Number((P.value*1e3/(c[F].value/1e3)).toFixed(0));return{...P,units:"salesPerSoftwareUnit",value:M}}),S=i.filter((P,F,T)=>F<o).map((P,F,T)=>{let M=Number((P.value*1e3/(m[F].value/1e3)).toFixed(0));return{...P,units:"salesPerSoftwareUnit",value:M}}),C=e.filter((P,F,T)=>F<o).map((P,F,T)=>{let M=Number((P.value*1e3/(t[F].value/1e3)).toFixed(0));return{...P,units:"salesPerSoftwareUnit",value:M}}),Q=a.filter((P,F,T)=>F<o).map((P,F,T)=>{let M=Number((P.value*1e3/(s[F].value/1e3)).toFixed(0));return{...P,units:"salesPerSoftwareUnit",value:M}}),N=r,f=N.slice(0,4)+(Number(N.slice(-4))-1).toString(),v="March "+N.slice(4),Y="March "+f.slice(4);return{segmentName:n,thisFY:N,lastFY:f,marchThisFY:v,marchLastFY:Y,quarterValuesThisFY:[l,c,d],quarterValuesLastFY:[i,m,S],cumulativeValuesThisFY:[e,t,C],cumulativeValuesLastFY:[a,s,Q]}},pa="FY3/2023",Na=4,Va={name:"Digital Contents - Package & Digital",units:"currency",Q1CmlValue:19.2,Q2CmlValue:34.9,Q3CmlValue:59.2,Q4CmlValue:95.3,forecastThisFY:91.4,forecastRevision1:95.1,forecastNextFY:103.4,notes:"*Sales includes: - Downloadable content purchases"},ha={name:"Digital Contents - Package & Digital",units:"units",Q1CmlValue:11700,Q2CmlValue:21300,Q3CmlValue:29100,Q4CmlValue:41700,forecastThisFY:37e3,forecastRevision1:4e4,forecastNextFY:45e3},va={name:"Package",units:"currency",Q1CmlValue:2.9,Q2CmlValue:4.3,Q3CmlValue:10.2,Q4CmlValue:18,forecastThisFY:18,forecastRevision1:16.3,forecastNextFY:12.5},Pa={name:"Package",units:"units",Q1CmlValue:1300,Q2CmlValue:1800,Q3CmlValue:2550,Q4CmlValue:4400,forecastThisFY:4500,forecastRevision1:4e3,forecastNextFY:2500},Fa={name:"Digital",units:"currency",Q1CmlValue:16.3,Q2CmlValue:30.6,Q3CmlValue:49,Q4CmlValue:77.3,forecastThisFY:73.4,forecastRevision1:78.8,forecastNextFY:90.9,notes:"*Sales includes: - Downloadable content purchases"},Ya={name:"Digital",units:"units",Q1CmlValue:10400,Q2CmlValue:19500,Q3CmlValue:26550,Q4CmlValue:37300,forecastThisFY:32500,forecastRevision1:36e3,forecastNextFY:42500},Ue={fiscalYear:pa,currentQuarter:Na,digitalContentsSales:Va,digitalContentsUnits:ha,packageSales:va,packageUnits:Pa,digitalSales:Fa,digitalUnits:Ya},Ua="FY3/2022",Ga=4,wa={name:"Digital Contents - Package & Digital",units:"currency",Q1CmlValue:43,Q2CmlValue:57.8,Q3CmlValue:67.4,Q4CmlValue:83.3,forecastThisFY:73.3,forecastNextFY:91.4,notes:"*Sales includes: - Downloadable content purchases"},ka={name:"Digital Contents - Package & Digital",units:"units",Q1CmlValue:13300,Q2CmlValue:19800,Q3CmlValue:25800,Q4CmlValue:32600,forecastThisFY:32e3,forecastNextFY:37e3},$a={name:"Package",units:"currency",Q1CmlValue:18.4,Q2CmlValue:23.3,Q3CmlValue:25.6,Q4CmlValue:30,forecastThisFY:21.8,forecastNextFY:18},Ta={name:"Package",units:"units",Q1CmlValue:4200,Q2CmlValue:5900,Q3CmlValue:7100,Q4CmlValue:8e3,forecastThisFY:5500,forecastNextFY:4500},Ma={name:"Digital",units:"currency",Q1CmlValue:24.6,Q2CmlValue:34.5,Q3CmlValue:41.8,Q4CmlValue:53.3,forecastThisFY:51.5,forecastNextFY:73.4,notes:"*Sales includes: - Downloadable content purchases"},La={name:"Digital",units:"units",Q1CmlValue:9100,Q2CmlValue:13900,Q3CmlValue:18700,Q4CmlValue:24600,forecastThisFY:26500,forecastNextFY:32500},Ge={fiscalYear:Ua,currentQuarter:Ga,digitalContentsSales:wa,digitalContentsUnits:ka,packageSales:$a,packageUnits:Ta,digitalSales:Ma,digitalUnits:La},Da="FY3/2021",ya=4,Aa={name:"Digital Contents - Package & Digital",units:"currency",Q1CmlValue:20.3,Q2CmlValue:32.1,Q3CmlValue:44.2,Q4CmlValue:68.8,forecastThisFY:60.9,forecastRevision1:65.5,forecastNextFY:73.3,notes:"*Sales includes: - Downloadable content purchases"},Ha={name:"Digital Contents - Package & Digital",units:"units",Q1CmlValue:9200,Q2CmlValue:13800,Q3CmlValue:19800,Q4CmlValue:30100,forecastThisFY:28e3,forecastRevision1:29e3,forecastNextFY:32e3},Ra={name:"Package",units:"currency",Q1CmlValue:6,Q2CmlValue:7.3,Q3CmlValue:9.9,Q4CmlValue:20.8,forecastThisFY:15.9,forecastRevision1:18.5,forecastNextFY:21.8},Oa={name:"Package",units:"units",Q1CmlValue:1850,Q2CmlValue:2400,Q3CmlValue:3600,Q4CmlValue:6950,forecastThisFY:4500,forecastRevision1:6400,forecastNextFY:5500},xa={name:"Digital",units:"currency",Q1CmlValue:14.3,Q2CmlValue:24.8,Q3CmlValue:34.3,Q4CmlValue:48,forecastThisFY:45,forecastRevision1:47,forecastNextFY:51.5,notes:"*Sales includes: - Downloadable content purchases"},qa={name:"Digital",units:"units",Q1CmlValue:7350,Q2CmlValue:11400,Q3CmlValue:16200,Q4CmlValue:23150,forecastThisFY:23500,forecastRevision1:22600,forecastNextFY:26500},we={fiscalYear:Da,currentQuarter:ya,digitalContentsSales:Aa,digitalContentsUnits:Ha,packageSales:Ra,packageUnits:Oa,digitalSales:xa,digitalUnits:qa},Ba="undefined",Ea=4,Ia={name:"Digital Contents - Package & Digital",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Wa={name:"Digital Contents - Package & Digital",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Xa={name:"Package",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Ka={name:"Package",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},za={name:"Digital",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Ja={name:"Digital",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Za={fiscalYear:Ba,currentQuarter:Ea,digitalContentsSales:Ia,digitalContentsUnits:Wa,packageSales:Xa,packageUnits:Ka,digitalSales:za,digitalUnits:Ja},ke=[Ue,Ge,we,Za],X=(e,a)=>[{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"Forecast",cmlPeriod:"1st Quarter",value:e==null?void 0:e.forecastThisFY,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 1",cmlPeriod:"First Half",value:e==null?void 0:e.forecastRevision1,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 2",cmlPeriod:"1st 3 Qtrs",value:e==null?void 0:e.forecastRevision2,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 3",cmlPeriod:"1st 3 Qtrs",value:e==null?void 0:e.forecastRevision3,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"Forecast",cmlPeriod:"Cml.",value:e==null?void 0:e.forecastNextFY,notes:e==null?void 0:e.notes}].filter(s=>s.value!==void 0),O=(e,a)=>a===!0?X(e.digitalContentsSales,"currency"):[{name:e.digitalContentsSales.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.digitalContentsSales.units==="NaN"?"NaN":"currency",value:e.digitalContentsSales.Q1CmlValue,notes:e.digitalContentsSales.notes},{name:e.digitalContentsSales.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.digitalContentsSales.units==="NaN"?"NaN":"currency",value:e.digitalContentsSales.Q2CmlValue,notes:e.digitalContentsSales.notes},{name:e.digitalContentsSales.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.digitalContentsSales.units==="NaN"?"NaN":"currency",value:e.digitalContentsSales.Q3CmlValue,notes:e.digitalContentsSales.notes},{name:e.digitalContentsSales.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.digitalContentsSales.units==="NaN"?"NaN":"currency",value:e.digitalContentsSales.Q4CmlValue,notes:e.digitalContentsSales.notes}],x=(e,a)=>a===!0?X(e.digitalContentsUnits,"units"):[{name:e.digitalContentsUnits.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.digitalContentsUnits.units==="NaN"?"NaN":"units",value:e.digitalContentsUnits.Q1CmlValue},{name:e.digitalContentsUnits.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.digitalContentsUnits.units==="NaN"?"NaN":"units",value:e.digitalContentsUnits.Q2CmlValue},{name:e.digitalContentsUnits.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.digitalContentsUnits.units==="NaN"?"NaN":"units",value:e.digitalContentsUnits.Q3CmlValue},{name:e.digitalContentsUnits.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.digitalContentsUnits.units==="NaN"?"NaN":"units",value:e.digitalContentsUnits.Q4CmlValue}],ne=(e,a)=>a===!0?X(e.packageSales,"currency"):[{name:e.packageSales.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.packageSales.units==="NaN"?"NaN":"currency",value:e.packageSales.Q1CmlValue},{name:e.packageSales.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.packageSales.units==="NaN"?"NaN":"currency",value:e.packageSales.Q2CmlValue},{name:e.packageSales.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.packageSales.units==="NaN"?"NaN":"currency",value:e.packageSales.Q3CmlValue},{name:e.packageSales.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.packageSales.units==="NaN"?"NaN":"currency",value:e.packageSales.Q4CmlValue}],re=(e,a)=>a===!0?X(e.packageUnits,"units"):[{name:e.packageUnits.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.packageUnits.units==="NaN"?"NaN":"units",value:e.packageUnits.Q1CmlValue},{name:e.packageUnits.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.packageUnits.units==="NaN"?"NaN":"units",value:e.packageUnits.Q2CmlValue},{name:e.packageUnits.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.packageUnits.units==="NaN"?"NaN":"units",value:e.packageUnits.Q3CmlValue},{name:e.packageUnits.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.packageUnits.units==="NaN"?"NaN":"units",value:e.packageUnits.Q4CmlValue}],ie=(e,a)=>a===!0?X(e.digitalSales,"currency"):[{name:e.digitalSales.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.digitalSales.units==="NaN"?"NaN":"currency",value:e.digitalSales.Q1CmlValue,notes:e.digitalSales.notes},{name:e.digitalSales.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.digitalSales.units==="NaN"?"NaN":"currency",value:e.digitalSales.Q2CmlValue,notes:e.digitalSales.notes},{name:e.digitalSales.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.digitalSales.units==="NaN"?"NaN":"currency",value:e.digitalSales.Q3CmlValue,notes:e.digitalSales.notes},{name:e.digitalSales.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.digitalSales.units==="NaN"?"NaN":"currency",value:e.digitalSales.Q4CmlValue,notes:e.digitalSales.notes}],ue=(e,a)=>a===!0?X(e.digitalUnits,"units"):[{name:e.digitalUnits.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.digitalUnits.units==="NaN"?"NaN":"units",value:e.digitalUnits.Q1CmlValue},{name:e.digitalUnits.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.digitalUnits.units==="NaN"?"NaN":"units",value:e.digitalUnits.Q2CmlValue},{name:e.digitalUnits.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.digitalUnits.units==="NaN"?"NaN":"units",value:e.digitalUnits.Q3CmlValue},{name:e.digitalUnits.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.digitalUnits.units==="NaN"?"NaN":"units",value:e.digitalUnits.Q4CmlValue}],ll=ke.flatMap((e,a,t)=>{if(t[a]===t.at(-1))return[];let s={fiscalYear:e.fiscalYear,secondHeader:"| Segment Information |",firstHeader:"| Capcom         |"},n=O(e),r=O(t[a+1]),o=O(e,!0),l=x(e),i=x(t[a+1]),c=x(e,!0),m=ne(e),d=ne(t[a+1]),S=ne(e,!0),C=re(e),Q=re(t[a+1]),N=re(e,!0),f=ie(e),v=ie(t[a+1]),Y=ie(e,!0),R=ue(e),j=ue(t[a+1]),ee=ue(e,!0);return[ga(n,r,l,i,s,e.currentQuarter),K(o,c,s,e.currentQuarter),Sa(m,d,C,Q,s,e.currentQuarter),K(S,N,s,e.currentQuarter),Qa(f,v,R,j,s,e.currentQuarter),K(Y,ee,s,e.currentQuarter)].reduce((ae,P)=>ae+`
`+P)}),nl=ke.flatMap((e,a,t)=>{if(t[a]===t.at(-1))return[];let s=O(e),n=O(t[a+1]),r=x(e),o=x(t[a+1]);return oe(s,n,r,o,e.digitalContentsSales.name,e.fiscalYear,e.currentQuarter)}),_a="FY3/2023",ba=4,ja={name:"Home video game",units:"currency",Q1CmlValue:40.5,Q2CmlValue:85.1,Q3CmlValue:125.4,Q4CmlValue:159.8,forecastThisFY:140,forecastRevision1:157,forecastRevision2:157,forecastNextFY:170,notes:"*Sales might include: - Downloadable content purchases"},et={name:"Home video game",units:"units",Q1CmlValue:11525,Q2CmlValue:24617,Q3CmlValue:38711,Q4CmlValue:48291,forecastThisFY:43500,forecastRevision1:46e3,forecastRevision2:48e3,forecastNextFY:48e3},$e={fiscalYear:_a,currentQuarter:ba,softwareSales:ja,softwareUnits:et},at="FY3/2022",tt=4,st={name:"Home video game",units:"currency",Q1CmlValue:26.2,Q2CmlValue:55.7,Q3CmlValue:98.8,Q4CmlValue:174.4,forecastThisFY:115,forecastRevision1:122,forecastRevision2:122,forecastNextFY:140,notes:"*Sales might include: - Downloadable content purchases"},lt={name:"Home video game",units:"units",Q1CmlValue:10066,Q2CmlValue:19600,Q3CmlValue:36220,Q4CmlValue:56847,forecastThisFY:33500,forecastRevision1:42500,forecastRevision2:47500,forecastNextFY:43500},Te={fiscalYear:at,currentQuarter:tt,softwareSales:st,softwareUnits:lt},nt="FY3/2021",rt=4,it={name:"Home video game",units:"currency",Q1CmlValue:25,Q2CmlValue:55,Q3CmlValue:93,Q4CmlValue:118.1,forecastThisFY:100,forecastRevision1:117,forecastNextFY:115,notes:"*Sales might include: - Downloadable content purchases"},ut={name:"Home video game",units:"units",Q1CmlValue:9005,Q2CmlValue:18394,Q3CmlValue:32345,Q4CmlValue:41498,forecastThisFY:28e3,forecastRevision1:39300,forecastNextFY:33500},Me={fiscalYear:nt,currentQuarter:rt,softwareSales:it,softwareUnits:ut},ot="FY3/2020",ct=4,mt={name:"Home video game",units:"currency",Q1CmlValue:17.9,Q2CmlValue:40.7,Q3CmlValue:67.5,Q4CmlValue:99,forecastThisFY:96,forecastRevision1:96,forecastNextFY:100,notes:"*Sales might include: - Downloadable content purchases"},dt={name:"Home video game",units:"units",Q1CmlValue:4347,Q2CmlValue:10186,Q3CmlValue:15536,Q4CmlValue:24584,forecastThisFY:26e3,forecastRevision1:22600,forecastNextFY:28e3},Le={fiscalYear:ot,currentQuarter:ct,softwareSales:mt,softwareUnits:dt},ft="FY3/2019",gt=4,St={name:"Home video game",units:"currency",Q1CmlValue:16.5,Q2CmlValue:39.7,Q3CmlValue:65.8,Q4CmlValue:102.1,forecastThisFY:90,forecastRevision1:96,forecastNextFY:96,notes:"*Sales might include: - Downloadable content purchases"},Qt={name:"Home video game",units:"units",Q1CmlValue:4031,Q2CmlValue:10229,Q3CmlValue:17812,Q4CmlValue:27611,forecastThisFY:24700,forecastRevision1:27e3,forecastNextFY:26e3},De={fiscalYear:ft,currentQuarter:gt,softwareSales:St,softwareUnits:Qt},Ct="undefined",pt=4,Nt={name:"Home video game",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Vt={name:"Home video game",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},ht={fiscalYear:Ct,currentQuarter:pt,softwareSales:Nt,softwareUnits:Vt},ye=[$e,Te,Me,Le,De,ht],Ae=(e,a)=>[{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"Forecast",cmlPeriod:"1st Quarter",value:e==null?void 0:e.forecastThisFY,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 1",cmlPeriod:"First Half",value:e==null?void 0:e.forecastRevision1,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 2",cmlPeriod:"1st 3 Qtrs",value:e==null?void 0:e.forecastRevision2,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 3",cmlPeriod:"1st 3 Qtrs",value:e==null?void 0:e.forecastRevision3,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"Forecast",cmlPeriod:"Cml.",value:e==null?void 0:e.forecastNextFY,notes:e==null?void 0:e.notes}].filter(s=>s.value!==void 0),q=(e,a)=>a===!0?Ae(e.softwareSales,"currency"):[{name:e.softwareSales.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.softwareSales.units==="NaN"?"NaN":"currency",value:e.softwareSales.Q1CmlValue,notes:e.softwareSales.notes},{name:e.softwareSales.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.softwareSales.units==="NaN"?"NaN":"currency",value:e.softwareSales.Q2CmlValue,notes:e.softwareSales.notes},{name:e.softwareSales.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.softwareSales.units==="NaN"?"NaN":"currency",value:e.softwareSales.Q3CmlValue,notes:e.softwareSales.notes},{name:e.softwareSales.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.softwareSales.units==="NaN"?"NaN":"currency",value:e.softwareSales.Q4CmlValue,notes:e.softwareSales.notes}],B=(e,a)=>a===!0?Ae(e.softwareUnits,"units"):[{name:e.softwareUnits.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.softwareUnits.units==="NaN"?"NaN":"units",value:e.softwareUnits.Q1CmlValue},{name:e.softwareUnits.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.softwareUnits.units==="NaN"?"NaN":"units",value:e.softwareUnits.Q2CmlValue},{name:e.softwareUnits.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.softwareUnits.units==="NaN"?"NaN":"units",value:e.softwareUnits.Q3CmlValue},{name:e.softwareUnits.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.softwareUnits.units==="NaN"?"NaN":"units",value:e.softwareUnits.Q4CmlValue}],rl=ye.flatMap((e,a,t)=>{if(t[a]===t.at(-1))return[];let s={fiscalYear:e.fiscalYear,secondHeader:"| Segment Information |",firstHeader:"| Bandai Namco   |"},n=q(e),r=q(t[a+1]),o=q(e,!0),l=B(e),i=B(t[a+1]),c=B(e,!0);return fa(n,r,l,i,s,e.currentQuarter)+`
`+K(o,c,s,e.currentQuarter)}),il=ye.flatMap((e,a,t)=>{if(t[a]===t.at(-1))return[];let s=q(e),n=q(t[a+1]),r=B(e),o=B(t[a+1]);return oe(s,n,r,o,e.softwareSales.name,e.fiscalYear,e.currentQuarter)}),vt="FY3/2023",Pt=4,Ft={name:"Console Package & DL",units:"currency",Q1CmlValue:8.715,Q2CmlValue:14.633,Q3CmlValue:19.368,Q4CmlValue:35.787,notes:"Package: Including sales for packages, royalty, commission fees (incl. %-of-completion basis), and down payment. DL (download) sales: sales for digital copies via PSN/XboxLive/Switch DL/Steam"},Yt={name:"Console Package & DL",units:"units",Q1CmlValue:3090,Q2CmlValue:4680,Q3CmlValue:5980,Q4CmlValue:9640},He={fiscalYear:vt,currentQuarter:Pt,consolePackageAndDLSales:Ft,consolePackageAndDLUnits:Yt},Ut="FY3/2022",Gt=4,wt={name:"Console Package & DL",units:"currency",Q1CmlValue:10.068,Q2CmlValue:15.885,Q3CmlValue:23.297,Q4CmlValue:30.771,notes:"Package: Including sales for packages, royalty, commission fees (incl. %-of-completion basis), and down payment. DL (download) sales: sales for digital copies via PSN/XboxLive/Switch DL/Steam"},kt={name:"Console Package & DL",units:"units",Q1CmlValue:2450,Q2CmlValue:3650,Q3CmlValue:5700,Q4CmlValue:8130},Re={fiscalYear:Ut,currentQuarter:Gt,consolePackageAndDLSales:wt,consolePackageAndDLUnits:kt},$t="FY3/2021",Tt=4,Mt={name:"Console Package & DL",units:"currency",Q1CmlValue:5.382,Q2CmlValue:10.473,Q3CmlValue:22.425,Q4CmlValue:28.728,notes:"Package: Including sales for packages, royalty, commission fees (incl. %-of-completion basis), and down payment. DL (download) sales: sales for digital copies via PSN/XboxLive/Switch DL/Steam"},Lt={name:"Console Package & DL",units:"units",Q1CmlValue:1690,Q2CmlValue:3050,Q3CmlValue:8160,Q4CmlValue:10110},Oe={fiscalYear:$t,currentQuarter:Tt,consolePackageAndDLSales:Mt,consolePackageAndDLUnits:Lt},Dt="FY3/2020",yt=4,At={name:"Console Package & DL",units:"currency",Q1CmlValue:3.095,Q2CmlValue:8.003,Q3CmlValue:12.555,Q4CmlValue:21.446,notes:"Package: Including sales for packages, royalty, commission fees (incl. %-of-completion basis), and down payment. DL (download) sales: sales for digital copies via PSN/XboxLive/Switch DL/Steam"},Ht={name:"Console Package & DL",units:"units",Q1CmlValue:790,Q2CmlValue:5275,Q3CmlValue:6835,Q4CmlValue:10560},xe={fiscalYear:Dt,currentQuarter:yt,consolePackageAndDLSales:At,consolePackageAndDLUnits:Ht},Rt="FY3/2019",Ot=4,xt={name:"Console Package & DL",units:"currency",Q1CmlValue:0,Q2CmlValue:9.374,Q3CmlValue:9.374,Q4CmlValue:21.27,notes:"Package: Including sales for packages, royalty, commission fees (incl. %-of-completion basis), and down payment. DL (download) sales: sales for digital copies via PSN/XboxLive/Switch DL/Steam"},qt={name:"Console Package & DL",units:"units",Q1CmlValue:0,Q2CmlValue:2390,Q3CmlValue:2390,Q4CmlValue:5780},qe={fiscalYear:Rt,currentQuarter:Ot,consolePackageAndDLSales:xt,consolePackageAndDLUnits:qt},Bt="undefined",Et=4,It={name:"Console Package & DL",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Wt={name:"Console Package & DL",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Xt={fiscalYear:Bt,currentQuarter:Et,consolePackageAndDLSales:It,consolePackageAndDLUnits:Wt},Be=[He,Re,Oe,xe,qe,Xt],z=e=>[{name:e.consolePackageAndDLSales.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.consolePackageAndDLSales.units==="NaN"?"NaN":"currency",value:e.consolePackageAndDLSales.Q1CmlValue,notes:e.consolePackageAndDLSales.notes},{name:e.consolePackageAndDLSales.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.consolePackageAndDLSales.units==="NaN"?"NaN":"currency",value:e.consolePackageAndDLSales.Q2CmlValue,notes:e.consolePackageAndDLSales.notes},{name:e.consolePackageAndDLSales.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.consolePackageAndDLSales.units==="NaN"?"NaN":"currency",value:e.consolePackageAndDLSales.Q3CmlValue,notes:e.consolePackageAndDLSales.notes},{name:e.consolePackageAndDLSales.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.consolePackageAndDLSales.units==="NaN"?"NaN":"currency",value:e.consolePackageAndDLSales.Q4CmlValue,notes:e.consolePackageAndDLSales.notes}],J=e=>[{name:e.consolePackageAndDLUnits.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.consolePackageAndDLUnits.units==="NaN"?"NaN":"units",value:e.consolePackageAndDLUnits.Q1CmlValue},{name:e.consolePackageAndDLUnits.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.consolePackageAndDLUnits.units==="NaN"?"NaN":"units",value:e.consolePackageAndDLUnits.Q2CmlValue},{name:e.consolePackageAndDLUnits.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.consolePackageAndDLUnits.units==="NaN"?"NaN":"units",value:e.consolePackageAndDLUnits.Q3CmlValue},{name:e.consolePackageAndDLUnits.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.consolePackageAndDLUnits.units==="NaN"?"NaN":"units",value:e.consolePackageAndDLUnits.Q4CmlValue}],ul=Be.flatMap((e,a,t)=>{if(t[a]===t.at(-1))return[];let s={fiscalYear:e.fiscalYear,secondHeader:"| Segment Information |",firstHeader:"| Koei Tecmo     |"},n=z(e),r=z(t[a+1]),o=J(e),l=J(t[a+1]);return Ca(n,r,o,l,s,e.currentQuarter)}),ol=Be.flatMap((e,a,t)=>{if(t[a]===t.at(-1))return[];let s=z(e),n=z(t[a+1]),r=J(e),o=J(t[a+1]);return oe(s,n,r,o,e.consolePackageAndDLSales.name,e.fiscalYear,e.currentQuarter)}),Kt="FY3/2023",zt=4,Jt={name:"Full Games",units:"currency",Q1CmlValue:9.9,Q2CmlValue:22.3,Q3CmlValue:55.3,Q4CmlValue:73.2,forecastThisFY:98.4,forecastRevision1:75.9,forecastNextFY:108.1,notes:'"*Full Game = Mainly physical sales and download sales of full game for home video game consoles and PCs. (Additional download content sales are not included.)" **Software Units: "Unit sales don’t include the figure for free download"'},Zt={name:"Full Games",units:"units",Q1CmlValue:5140,Q2CmlValue:10140,Q3CmlValue:20750,Q4CmlValue:27890,forecastThisFY:34250,forecastRevision1:28250,forecastNextFY:34480},Ee={fiscalYear:Kt,currentQuarter:zt,fullGameSales:Jt,fullGameUnits:Zt},_t="FY3/2022",bt=4,jt={name:"Full Games",units:"currency",Q1CmlValue:11,Q2CmlValue:30.7,Q3CmlValue:50.3,Q4CmlValue:65.8,forecastThisFY:55,forecastRevision1:66.8,forecastRevision2:66.3,forecastNextFY:98.4,notes:'"*Full Game = Mainly physical sales and download sales of full game for home video game consoles and PCs. (Additional download content sales are not included.)" **Software Units: "Unit sales don’t include the figure for free download"'},es={name:"Full Games",units:"units",Q1CmlValue:6580,Q2CmlValue:14040,Q3CmlValue:21970,Q4CmlValue:27200,forecastThisFY:37870,forecastRevision1:33670,forecastRevision2:27520,forecastNextFY:34250},Ie={fiscalYear:_t,currentQuarter:bt,fullGameSales:jt,fullGameUnits:es},as="FY3/2021",ts=4,ss={name:"Full Games",units:"currency",Q1CmlValue:14.4,Q2CmlValue:25.2,Q3CmlValue:42.6,Q4CmlValue:55.1,forecastThisFY:51.3,forecastRevision1:48.5,forecastRevision2:55.7,forecastNextFY:55,notes:'"*Full Game = Mainly physical sales and download sales of full game for home video game consoles and PCs. (Additional download content sales are not included.)" **Software Units: "Unit sales don’t include the figure for free download"'},ls={name:"Full Games",units:"units",Q1CmlValue:12980,Q2CmlValue:19080,Q3CmlValue:34200,Q4CmlValue:41770,forecastThisFY:34100,forecastRevision1:33040,forecastRevision2:40540,forecastNextFY:37870},We={fiscalYear:as,currentQuarter:ts,fullGameSales:ss,fullGameUnits:ls},ns="FY3/2020",rs=4,is={name:"Full Games",units:"currency",Q1CmlValue:11.5,Q2CmlValue:19.4,Q3CmlValue:37.8,Q4CmlValue:57,notes:'"*Full Game = Mainly physical sales and download sales of full game for home video game consoles and PCs. (Additional download content sales are not included.)" **Software Units: "Unit sales don’t include the figure for free download"'},us={name:"Full Games",units:"units",Q1CmlValue:6490,Q2CmlValue:12100,Q3CmlValue:20570,Q4CmlValue:28570},Xe={fiscalYear:ns,currentQuarter:rs,fullGameSales:is,fullGameUnits:us},os="undefined",cs=4,ms={name:"Full Games",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},ds={name:"Full Games",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},fs={fiscalYear:os,currentQuarter:cs,fullGameSales:ms,fullGameUnits:ds},Ke=[Ee,Ie,We,Xe,fs],ze=(e,a)=>[{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"Forecast",cmlPeriod:"1st Quarter",value:e==null?void 0:e.forecastThisFY,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 1",cmlPeriod:"First Half",value:e==null?void 0:e.forecastRevision1,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 2",cmlPeriod:"1st 3 Qtrs",value:e==null?void 0:e.forecastRevision2,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"FCST Revision 3",cmlPeriod:"1st 3 Qtrs",value:e==null?void 0:e.forecastRevision3,notes:e==null?void 0:e.notes},{name:e.name,region:"Group Total",units:a==="units"?"units":"currency",period:"Forecast",cmlPeriod:"Cml.",value:e==null?void 0:e.forecastNextFY,notes:e==null?void 0:e.notes}].filter(s=>s.value!==void 0),E=(e,a)=>a===!0?ze(e.fullGameSales,"currency"):[{name:e.fullGameSales.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.fullGameSales.units==="NaN"?"NaN":"currency",value:e.fullGameSales.Q1CmlValue,notes:e.fullGameSales.notes},{name:e.fullGameSales.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.fullGameSales.units==="NaN"?"NaN":"currency",value:e.fullGameSales.Q2CmlValue,notes:e.fullGameSales.notes},{name:e.fullGameSales.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.fullGameSales.units==="NaN"?"NaN":"currency",value:e.fullGameSales.Q3CmlValue,notes:e.fullGameSales.notes},{name:e.fullGameSales.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.fullGameSales.units==="NaN"?"NaN":"currency",value:e.fullGameSales.Q4CmlValue,notes:e.fullGameSales.notes}],I=(e,a)=>a===!0?ze(e.fullGameUnits,"units"):[{name:e.fullGameUnits.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.fullGameUnits.units==="NaN"?"NaN":"units",value:e.fullGameUnits.Q1CmlValue},{name:e.fullGameUnits.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.fullGameUnits.units==="NaN"?"NaN":"units",value:e.fullGameUnits.Q2CmlValue},{name:e.fullGameUnits.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.fullGameUnits.units==="NaN"?"NaN":"units",value:e.fullGameUnits.Q3CmlValue},{name:e.fullGameUnits.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.fullGameUnits.units==="NaN"?"NaN":"units",value:e.fullGameUnits.Q4CmlValue}],cl=Ke.flatMap((e,a,t)=>{var d,S;if(t[a]===t.at(-1))return[];let s={fiscalYear:e.fiscalYear,secondHeader:"| Segment Information |",firstHeader:"| Sega Sammy     |"},n=E(e),r=E(t[a+1]),o=((d=e.fullGameSales)==null?void 0:d.forecastThisFY)===void 0?[]:E(e,!0),l=I(e),i=I(t[a+1]),c=((S=e.fullGameUnits)==null?void 0:S.forecastThisFY)===void 0?[]:I(e,!0);return[da(n,r,l,i,s,e.currentQuarter),o.length===0&&c.length===0?[]:K(o,c,s,e.currentQuarter)].flat().reduce((C,Q)=>C+`
`+Q)}),ml=Ke.flatMap((e,a,t)=>{if(t[a]===t.at(-1))return[];let s=E(e),n=E(t[a+1]),r=I(e),o=I(t[a+1]);return oe(s,n,r,o,e.fullGameSales.name,e.fiscalYear,e.currentQuarter)}),gs="FY3/2023",Ss=4,Qs={name:"HD Games",units:"currency",Q1CmlValue:12,Q2CmlValue:29.4,Q3CmlValue:58.1,Q4CmlValue:78.5,notes:"*Sales might include: - Downloadable content purchases"},Cs={name:"MMO",units:"currency",Q1CmlValue:14.1,Q2CmlValue:28.6,Q3CmlValue:40.5,Q4CmlValue:53.3,notes:"**MMO sales includes subscriptions"},ps={name:"HD Games & MMO",units:"units",Q1CmlValue:4280,Q2CmlValue:9410,Q3CmlValue:16430,Q4CmlValue:22440},Je={fiscalYear:gs,currentQuarter:Ss,hdGamesSales:Qs,mmoSales:Cs,hdGamesAndMMOUnits:ps},Ns="FY3/2022",Vs=4,hs={name:"HD Games",units:"currency",Q1CmlValue:25.1,Q2CmlValue:39.5,Q3CmlValue:65.5,Q4CmlValue:87.1,notes:"*Sales might include: - Downloadable content purchases"},vs={name:"MMO",units:"currency",Q1CmlValue:11.6,Q2CmlValue:27.7,Q3CmlValue:48.2,Q4CmlValue:62.2,notes:"**MMO sales includes subscriptions"},Ps={name:"HD Games & MMO",units:"units",Q1CmlValue:9880,Q2CmlValue:17220,Q3CmlValue:29450,Q4CmlValue:39130},Ze={fiscalYear:Ns,currentQuarter:Vs,hdGamesSales:hs,mmoSales:vs,hdGamesAndMMOUnits:Ps},Fs="FY3/2021",Ys=4,Us={name:"HD Games",units:"currency",Q1CmlValue:34.1,Q2CmlValue:57.8,Q3CmlValue:76.6,Q4CmlValue:96.6,notes:"*Sales might include: - Downloadable content purchases"},Gs={name:"MMO",units:"currency",Q1CmlValue:10.1,Q2CmlValue:20.9,Q3CmlValue:29.5,Q4CmlValue:39.8,notes:"**MMO sales includes subscriptions"},ws={name:"HD Games & MMO",units:"units",Q1CmlValue:6210,Q2CmlValue:12080,Q3CmlValue:15800,Q4CmlValue:49900},_e={fiscalYear:Fs,currentQuarter:Ys,hdGamesSales:Us,mmoSales:Gs,hdGamesAndMMOUnits:ws},ks="FY3/2020",$s=4,Ts={name:"HD Games",units:"currency",Q1CmlValue:7.9,Q2CmlValue:18.7,Q3CmlValue:27.1,Q4CmlValue:42,notes:"*Sales might include: - Downloadable content purchases"},Ms={name:"MMO",units:"currency",Q1CmlValue:8.8,Q2CmlValue:22.4,Q3CmlValue:31,Q4CmlValue:40.1,notes:"**MMO sales includes subscriptions"},Ls={name:"HD Games & MMO",units:"units",Q1CmlValue:3250,Q2CmlValue:8650,Q3CmlValue:13620,Q4CmlValue:18090},be={fiscalYear:ks,currentQuarter:$s,hdGamesSales:Ts,mmoSales:Ms,hdGamesAndMMOUnits:Ls},Ds="undefined",ys=4,As={name:"HD Games",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Hs={name:"MMO",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Rs={name:"HD Games & MMO",units:"NaN",Q1CmlValue:0,Q2CmlValue:0,Q3CmlValue:0,Q4CmlValue:0},Os={fiscalYear:Ds,currentQuarter:ys,hdGamesSales:As,mmoSales:Hs,hdGamesAndMMOUnits:Rs},xs=[Je,Ze,_e,be,Os],je=`
+----------------------------------------+
|From Outline of Results Briefing held   | 
|on May 13, 2021 (for FY3/2021):         |
|We have also made a change to how we    |
|disclose our units sold. Whereas the    |
|download sales we disclosed previously  |
|only included titles launched in the    |
|past two years, we now include all sales|
|made during the relevant fiscal year,   |
|regardless of when a title may have been|
|released.                               |
|                                        |
|This change was prompted primarily by   |
|the fact that we are making many more   |
|sales from our back catalog than we had |
|in the past.                            |
+----------------------------------------+`,ve=e=>[{name:e.hdGamesSales.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.hdGamesSales.units==="NaN"?"NaN":"currency",value:e.hdGamesSales.Q1CmlValue,notes:e.hdGamesSales.notes},{name:e.hdGamesSales.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.hdGamesSales.units==="NaN"?"NaN":"currency",value:e.hdGamesSales.Q2CmlValue,notes:e.hdGamesSales.notes},{name:e.hdGamesSales.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.hdGamesSales.units==="NaN"?"NaN":"currency",value:e.hdGamesSales.Q3CmlValue,notes:e.hdGamesSales.notes},{name:e.hdGamesSales.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.hdGamesSales.units==="NaN"?"NaN":"currency",value:e.hdGamesSales.Q4CmlValue,notes:e.hdGamesSales.notes}],Pe=e=>[{name:e.mmoSales.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.mmoSales.units==="NaN"?"NaN":"currency",value:e.mmoSales.Q1CmlValue,notes:e.mmoSales.notes},{name:e.mmoSales.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.mmoSales.units==="NaN"?"NaN":"currency",value:e.mmoSales.Q2CmlValue,notes:e.mmoSales.notes},{name:e.mmoSales.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.mmoSales.units==="NaN"?"NaN":"currency",value:e.mmoSales.Q3CmlValue,notes:e.mmoSales.notes},{name:e.mmoSales.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.mmoSales.units==="NaN"?"NaN":"currency",value:e.mmoSales.Q4CmlValue,notes:e.mmoSales.notes}],de=e=>[{name:"HD Games & MMO Sales",region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.hdGamesSales.units==="NaN"?"NaN":"currency",value:Number((e.hdGamesSales.Q1CmlValue+e.mmoSales.Q1CmlValue).toFixed(1)),notes:`${e.hdGamesSales.notes} ${e.mmoSales.notes}`},{name:"HD Games & MMO Sales",region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.hdGamesSales.units==="NaN"?"NaN":"currency",value:Number((e.hdGamesSales.Q2CmlValue+e.mmoSales.Q2CmlValue).toFixed(1)),notes:`${e.hdGamesSales.notes} ${e.mmoSales.notes}`},{name:"HD Games & MMO Sales",region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.hdGamesSales.units==="NaN"?"NaN":"currency",value:Number((e.hdGamesSales.Q3CmlValue+e.mmoSales.Q3CmlValue).toFixed(1)),notes:`${e.hdGamesSales.notes} ${e.mmoSales.notes}`},{name:"HD Games & MMO Sales",region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.hdGamesSales.units==="NaN"?"NaN":"currency",value:Number((e.hdGamesSales.Q4CmlValue+e.mmoSales.Q4CmlValue).toFixed(1)),notes:`${e.hdGamesSales.notes} ${e.mmoSales.notes}`}],fe=e=>[{name:e.hdGamesAndMMOUnits.name,region:"Group Total",period:"1st Quarter",cmlPeriod:"1st Quarter",units:e.hdGamesAndMMOUnits.units==="NaN"?"NaN":"units",value:e.hdGamesAndMMOUnits.Q1CmlValue},{name:e.hdGamesAndMMOUnits.name,region:"Group Total",period:"2nd Quarter",cmlPeriod:"First Half",units:e.hdGamesAndMMOUnits.units==="NaN"?"NaN":"units",value:e.hdGamesAndMMOUnits.Q2CmlValue},{name:e.hdGamesAndMMOUnits.name,region:"Group Total",period:"3rd Quarter",cmlPeriod:"1st 3 Qtrs",units:e.hdGamesAndMMOUnits.units==="NaN"?"NaN":"units",value:e.hdGamesAndMMOUnits.Q3CmlValue},{name:e.hdGamesAndMMOUnits.name,region:"Group Total",period:"4th Quarter",cmlPeriod:"Cml.",units:e.hdGamesAndMMOUnits.units==="NaN"?"NaN":"units",value:e.hdGamesAndMMOUnits.Q4CmlValue}],dl=xs.flatMap((e,a,t)=>{if(t[a]===t.at(-1))return[];let s={fiscalYear:e.fiscalYear,secondHeader:"| Segment Information |",firstHeader:"| Square Enix    |"},n=ve(e),r=ve(t[a+1]),o=Pe(e),l=Pe(t[a+1]),i=de(e),c=de(t[a+1]),m=fe(e),d=fe(t[a+1]);return e.fiscalYear==="FY3/2021"?he(n,r,o,l,i,c,m,d,s,e.currentQuarter).concat(je):he(n,r,o,l,i,c,m,d,s,e.currentQuarter)});function _(e){var t,s;const a=W(((t=e.at(-1))==null?void 0:t.fiscalYear)??"N/A",((s=e.at(-1))==null?void 0:s.currentQuarter)??4);return g(p([u(a,a.length+1,"left")]),"−","bottom",!0)}const ge=[De,Le,Me,Te,$e],H=[we,Ge,Ue],Se=[Xe,We,Ie,Ee],Qe=[qe,xe,Oe,Re,He],Ce=[be,_e,Ze,Je],qs=`+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
|              |             |          | Sales Per |
|              |             | Software |  Software |
|              |       Sales |    Units |      Unit |
+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+`,Bs=G(ge,q),Es=G(ge,B),Is=G(H,O),Ws=G(H,x),Xs=G(H,ne),Ks=G(H,re),zs=G(H,ie),Js=G(H,ue),Zs=G(Se,E),_s=G(Se,I),bs=G(Qe,z),js=G(Qe,J),el=G(Ce,de),al=G(Ce,fe);function b(e){let a=g(p([u(e,e.length+1,"left")]),"−","top"),t="Segment Information - Cumulative",s=g(p([u(t,t.length+1,"left")]),"−","both");return[a,s].reduce((n,r)=>n+`
`+r)}function G(e,a){return e.map(t=>a(t).map(n=>({...n,fiscalYear:t.fiscalYear}))).flatMap(t=>t.filter((s,n)=>n>2))}const L=(e,a)=>{let t=V=>`+${"−".repeat(V)}+`,s=t(e[0].name.length+2)+`
`+h(e[0].name,e[0].name.length+2),n=e.map((V,U,k)=>{let w=`¥${(V.value*1e3).toLocaleString("en")}M`,me=w.length>=13?w:" ".repeat(13-w.length)+w,te=`¥${Number((V.value*1e3/(a[U].value/1e3)).toFixed(0)).toLocaleString("en")} `,ua=te.length>=11?te:" ".repeat(11-te.length)+te,se=`${a[U].value/1e3}M`,oa=se.length>=10?se:" ".repeat(10-se.length)+se;return"| "+V.fiscalYear+" Cml.|"+me+"|"+oa+"|"+ua+"|"});function r(V){return V.map((k,w,me)=>k).sort((k,w)=>k.value>w.value?1:k.value<w.value?-1:0)}function o(V){return V.map((k,w,me)=>k).sort((k,w)=>k>w?1:k<w?-1:0)}let l=r(e),i=r(a),c=l.map(V=>V.value).reduce((V,U)=>V+U)*1e3,m=i.map(V=>V.value).reduce((V,U)=>V+U)/1e3,d=e.map((V,U)=>Number((V.value*1e3/(a[U].value/1e3)).toFixed(0))),S=o(d),C=d.reduce((V,U)=>V+U),Q=C/e.length,N=`¥${Number(c.toFixed(0)).toLocaleString("en")}M`,f=`${m}M`,v=`¥${Number(C.toFixed(0)).toLocaleString("en")}`,Y=`¥${Number((c/l.length).toFixed(0)).toLocaleString("en")}M`,R=`${(m/i.length).toFixed(2)}M`,j=`¥${Number(Q.toFixed(0)).toLocaleString("en")}`,ee=l.length%2!==0?`¥${(l[(l.length+1)/2-1].value*1e3).toLocaleString("en")}M`:`¥${Number(((l[l.length/2-1].value+l[l.length/2].value)/2*1e3).toFixed(0)).toLocaleString("en")}M`,ce=i.length%2!==0?`${(i[(i.length+1)/2-1].value/1e3).toFixed(2)}M`:`${Number(((i[i.length/2-1].value+i[i.length/2].value)/2/1e3).toFixed(2))}M`,ae=S.length%2!==0?`¥${S[(S.length+1)/2-1].toLocaleString("en")}`:`¥${Number(((S[S.length/2-1]+S[S.length/2])/2).toFixed(0)).toLocaleString("en")}`,P=`¥${(l[0].value*1e3).toLocaleString("en")}M`,F=`${i[0].value/1e3}M`,T=`¥${S[0].toLocaleString("en")}`,M=`¥${(l[l.length-1].value*1e3).toLocaleString("en")}M`,ea=`${i[i.length-1].value/1e3}M`,aa=`¥${S[S.length-1].toLocaleString("en")}`,ta=p([u("Count",13,"left"),u(`${e.length}`,12,"right"),u("",9,"left"),u("",10,"left")]),sa=p([u("Sum",13,"left"),u(N,12,"right"),u(f,9,"right"),u(v,10,"right")]),la=p([u("Average",13,"left"),u(Y,12,"right"),u(R,9,"right"),u(j,10,"right")]),na=p([u("Median",13,"left"),u(ee,12,"right"),u(ce,9,"right"),u(ae,10,"right")]),ra=p([u("Minimum",13,"left"),u(P,12,"right"),u(F,9,"right"),u(T,10,"right")]),ia=g(p([u("Maximum",13,"left"),u(M,12,"right"),u(ea,9,"right"),u(aa,10,"right")]),"−","bottom");return[s,qs,...n,t(51),ta,sa,la,na,ra,ia,e[0].notes===void 0?[]:h(e[0].notes,51)+`
`+t(51)].flat().reduce((V,U)=>V+`
`+U)},fl=[b("Bandai Namco"),_(ge),L(Bs,Es)].reduce((e,a)=>e+`
`+a),gl=[b("Capcom"),_(H),L(Is,Ws),L(zs,Js),L(Xs,Ks)].reduce((e,a)=>e+`
`+a),Sl=[b("Sega Sammy"),_(Se),L(Zs,_s)].reduce((e,a)=>e+`
`+a),Ql=[b("Koei Tecmo"),_(Qe),L(bs,js)].reduce((e,a)=>e+`
`+a),Cl=[b("Square Enix"),_(Ce),L(el,al),je,g(p([u('See "Data by Fiscal Year" for HD Games and MMO sales splits',60,"left")]),"−","both")].reduce((e,a)=>e+`
`+a);export{gl as C,nl as a,cl as b,ml as c,Sl as d,rl as e,il as f,fl as g,ul as h,ol as i,dl as j,Ql as k,Cl as l,ll as s};
