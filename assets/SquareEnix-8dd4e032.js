import{r as c,u as P,t as z,c as t,j as b,C as p,F as $,l as T,p as L,B as R,f as M,g as O,S as N,A as U,G as H}from"./index-97d2b75f.js";import{t as B,u as j,G as X,v as J}from"./GRAPH_SOFTWARE_SALES-b6858a8e.js";import{m as K,n as Y}from"./annual_report_cumulative-86494100.js";import{z as Z,A as ee,D as te,G as ae,S as Q,a as V,d as G,E as re,b as _}from"./GRAPH_CONSOLIDATED_EARNINGS-f608f7b0.js";import{T as W}from"./TextInput-07e65411.js";import{S as y}from"./Space-31ae9772.js";import"./ChevronIcon-2a3e80d5.js";function le(s){const[n,d]=c.useState(""),r=P(e=>e),[u,h]=c.useState(""),[k,m]=c.useState(0);let a=new Set,l=-1,S=K.get(s.setIndex+l),f=z(S,"FY Series IP",n,u,a);const i=[{value:f.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${k}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===n);c.useEffect(()=>{switch(n){case f.sectionTitle:m(f.titlesLength.length);break}},[u,n,s.setIndex]);const g=Array.from({length:s.yearLength},(e,o)=>[{name:"Data Sources",value:Z?.[o]},{name:"Consolidated Financial Results",value:ee.get(o),graph:t(ae,{setData:te.get(o)})},{name:"Software Sales",value:B.get(o),graph:t(X,{setData:j.get(o)})},{name:"FY Series IP",value:f.table}].filter(C=>C.value!==void 0)),v=g[s.setIndex].map(e=>e.name),x=e=>o=>{let[C]=e.filter(E=>o===E.name);return C?.value||""},w=e=>o=>{let[C]=e.filter(E=>o===E.name);return C?.graph},F=x(g[s.setIndex]),D=w(g[s.setIndex]);function I(){setTimeout(()=>{d("")},10)}return b("div",{children:[v.filter(e=>e===n).length===0&&n.length!==0?I():t(Q,{fullWidth:!0,orientation:"vertical",value:n,onChange:d,data:v}),n==="Data Sources"?F(n):b(p,{onCopy:e=>V(e,G),style:{backgroundColor:`${r.colour}`,color:r.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[n===f.sectionTitle?b($,{children:[t(W,{placeholder:i[0].placeholder,label:i[0].label,description:i[0].description,radius:"xl",value:u,onChange:e=>{h(e.target.value.toLowerCase())}}),a.size>0&&u!==a.values().next().value?T(L("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,a.size>0&&u!==a.values().next().value?[...a].flatMap((e,o)=>o>3?[]:t(R,{onClick:()=>h(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(p,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${r.colour}`,color:r.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):u===a.values().next().value||k===0?t(R,{onClick:()=>h(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(p,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${r.colour}`,color:r.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,F(n)]}),D(n)]})}function se(){const[s,n]=c.useState(""),d=P(e=>e),[r,u]=c.useState(""),[h,k]=c.useState(0),[m,a]=c.useState(6),[l,S]=c.useState("FY Cumulative");let f=M(Y.titleList,r),i=new Set;r.length!==0&&s==="Square Enix FY Series IP - Cumulative"&&f.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${r})\\w+`,"g"))].flat().map(o=>i.add(o)));let g=f.reduce((e,o)=>e+o.table,""),v=Y.header+g+Y.footnotes;const x=[{value:"Square Enix FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${h}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===s);c.useEffect(()=>{switch(s){case"Square Enix Consolidated Financial Results - Cumulative":a(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Square Enix Sales Per Software Unit - Cumulative":a(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Square Enix FY Series IP - Cumulative":k(f.length);break}},[r,s,l]);const w=[{name:"Square Enix Consolidated Financial Results - Cumulative",value:re[m]},{name:"Square Enix Sales Per Software Unit - Cumulative",value:J[m]},{name:"Square Enix FY Series IP - Cumulative",value:v}],F=w.map(e=>e.name),I=(e=>o=>{let[C]=e.filter(E=>o===E.name);return C?C.value:""})(w);return b("div",{children:[t(Q,{fullWidth:!0,orientation:"vertical",value:s,onChange:n,data:F}),b(p,{onCopy:e=>V(e,G),style:{backgroundColor:`${d.colour}`,color:d.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[s==="Square Enix Consolidated Financial Results - Cumulative"||s==="Square Enix Sales Per Software Unit - Cumulative"?t(_,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:l,onChange:S}):void 0,s==="Square Enix FY Series IP - Cumulative"?b($,{children:[t(W,{placeholder:x[0].placeholder,label:x[0].label,description:x[0].description,radius:"xl",value:r,onChange:e=>{u(e.target.value.toLowerCase())}}),i.size>0&&r!==i.values().next().value?T(L("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,i.size>0&&r!==i.values().next().value?[...i].flatMap((e,o)=>o>3?[]:t(R,{onClick:()=>u(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(p,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${d.colour}`,color:d.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):r===i.values().next().value||h===0?t(R,{onClick:()=>u(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(p,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${d.colour}`,color:d.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,I(s)]}),t(y,{h:"xl"}),t(y,{h:"xl"}),t(y,{h:"xl"}),t(y,{h:"xl"})]})}const q=2023,oe=2023-2004,A=Array.from({length:oe+1},(s,n)=>"FY3/"+(q-n));function he(){const s=T(L("Also, visit Install Base. It's a place to discuss and elaborate on the business side of the video game industry.",40),"=","top",!0,40),d=O("Square Enix (They publish Marvel's Avengers), this is where you can find archived data.",40,"−",80),[r,u]=c.useState(""),[h,k]=c.useState("Data by Fiscal Year"),m=P(S=>S),l=(S=>f=>{let[i]=S.map((v,x)=>f===v?x:-1).filter(v=>v!==-1),g=S.length;return i>=0?t(le,{setIndex:i,yearLength:g}):null})(A);return b("div",{children:[t(N,{mb:"md",align:"center",children:t(p,{style:{backgroundColor:`${m.colour}`,color:m.fontColor==="dark"?"#fff":"#000000"},block:!0,children:d})}),t(N,{mb:"md",align:"center",children:b(p,{style:{backgroundColor:`${m.colour}`,color:m.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[s,t(U,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/",target:"_blank",children:t(p,{style:{backgroundColor:`${m.colour}`,color:m.fontColor==="dark"?"#fff":"#000000"},block:!0,children:T(L("https://www.installbaseforum.com/",36),"−","both",!0,36)})})]})}),t(Q,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:h,onChange:k,data:["Data by Fiscal Year","Special Page"]}),h==="Data by Fiscal Year"?t(H,{position:"center",children:t(_,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${q-(A.length-1)} to ${q}.`,description:`Fiscal Year ending March ${Number(r?.slice(4,8))?r?.slice(4,8):""}.`,radius:"xl",size:"md",data:A,value:r,onChange:u})}):t(se,{}),h==="Data by Fiscal Year"&&typeof r=="string"?l(r):null]})}export{he as default};
