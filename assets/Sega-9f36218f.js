import{k as ne,r as C,u as B,e as ue,t as ce,c as t,j as _,C as x,F as te,l as T,p as I,B as G,d as de,b as F,s as k,f as H,g as me,S as z,A as fe,G as he}from"./index-8123f111.js";import{s as Se,e as ge,f as pe,g as ve,h as Ce,i as be,p as we,j as q}from"./annual_report_cumulative-d125b5a2.js";import{a as ye,g as Te,e as ke,f as xe,h as _e,i as Le,G as Fe,s as Ie}from"./GRAPH_SOFTWARE_SALES-ead32e22.js";import{s as Pe,l as Ae,m as Ye,G as Re,S as j,a as ae,b as D,d as le,o as Ue}from"./GRAPH_CONSOLIDATED_EARNINGS-17ffa36a.js";import{G as Ge}from"./GRAPH_NINTENDO_GLOBAL_HARDWARE_SOFTWARE_MOBILE-48ffb6ad.js";import{T as re}from"./TextInput-e885083c.js";import{S as U}from"./Space-6e951482.js";import"./ChevronIcon-d1ca0645.js";const se=ne(new Map,Object.assign({"./Software_Sales/software_sales_fy3_2020.json":ke,"./Software_Sales/software_sales_fy3_2021.json":xe,"./Software_Sales/software_sales_fy3_2022.json":_e,"./Software_Sales/software_sales_fy3_2023.json":Le}),"Descending"),oe=new Map,ie=new Map;se.forEach((l,s,d)=>{oe.set(s,ye(l,d.get(s+1),38,"Billion","One Thousand")),ie.set(s,Te(l,d.get(s+1),"Billion","One Thousand"))});se.clear();function De(l){var i;const[s,d]=C.useState(""),u=B(e=>e),[r,m]=C.useState(""),[b,p]=C.useState(0),[w,c]=C.useState("All");let n=-1,o=Se.get(l.setIndex+n),a=o===void 0?void 0:[o],h=(i=ge)==null?void 0:i[l.setIndex],f=new Set,v=new Set,S=ue(a,(o==null?void 0:o.header)??"ERROR","FY Series IP",s,w??"All","Single","Single",f,r,v),L=ce(h,"Software Units",s,r,v);const P=[{value:L.sectionTitle,placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${b}`,description:"Clear field to show all titles of the selected platform"},{value:S.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${b}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===s);C.useEffect(()=>{switch(s){case S.sectionTitle:p(S.titlesLength.length);let e=[...f].filter(g=>g===w);((e==null?void 0:e.length)??0)===0&&c("All");break;case L.sectionTitle:p(L.titlesLength.length);break}},[s,r,w,l.setIndex,f]);const A=Array.from({length:l.yearLength},(e,g)=>[{name:"Data Sources",value:Pe.get(g)},{name:"Consolidated Operating Results",value:Ae.get(g),graph:t(Re,{setData:Ye.get(g)})},{name:"Software Sales",value:oe.get(g),graph:t(Fe,{setData:ie.get(g)})},{name:"Software Units",value:L.table,graph:t(Ge,{setData:pe[g]})},{name:"FY Series IP",value:S.table}].filter(y=>y.value!==void 0)),R=A[l.setIndex].map(e=>e.name),Y=e=>g=>{let[y]=e.filter($=>g===$.name);return(y==null?void 0:y.value)||""},E=(e=>g=>{let[y]=e.filter($=>g===$.name);return y==null?void 0:y.graph})(A[l.setIndex]),M=Y(A[l.setIndex]);function N(){setTimeout(()=>{d("")},10)}return _("div",{children:[R.filter(e=>e===s).length===0&&s.length!==0?N():t(j,{fullWidth:!0,orientation:"vertical",value:s,onChange:d,data:R}),s==="Data Sources"?M(s):_(x,{onCopy:e=>ae(e,le),style:{backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[s===S.sectionTitle?t(D,{data:["All"].concat([...f]),defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:w,onChange:c}):void 0,s===S.sectionTitle||s===L.sectionTitle?_(te,{children:[t(re,{placeholder:P[0].placeholder,label:P[0].label,description:P[0].description,radius:"xl",value:r,onChange:e=>{m(e.target.value.toLowerCase())}}),v.size>0&&r!==v.values().next().value?T(I("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,v.size>0&&r!==v.values().next().value?[...v].flatMap((e,g)=>g>3?[]:t(G,{onClick:()=>m(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(x,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):r===v.values().next().value||b===0?t(G,{onClick:()=>m(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(x,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,M(s)]}),E(s)]})}const Q=[ve,Ce,be];var Z,ee;const J=de(((Z=Q.at(-1))==null?void 0:Z.fiscalYear)??"N/A",((ee=Q.at(-1))==null?void 0:ee.currentQuarter)??4),Ve=T(F([k(J,J.length+1,"left")]),"−","bottom",!0);function Ee(l,s,d){let u=T(F([k(s,s.length+1,"left")]),"−","top",!0)+T(F([k("Full Game Software Unit Sales - Cumulative",43,"left")]),"−","both",!0)+d,r=l.map(o=>{let a=o.softwareUnits.flatMap(f=>we(f)),h=o.fiscalYear;return a.map(f=>({...f,fiscalYear:h}))}),m=r.flat().filter(o=>o.period==="4th Quarter"),b=r.flat().map(o=>o.name);const p=[...new Set(b)];function w(o){return o.map((a,h,f)=>m.filter(S=>S.name===a))}let n=w(p).map((o,a,h)=>o).sort((o,a)=>a[a.length-1].value>o[o.length-1].value?1:a[a.length-1].value<o[o.length-1].value?-1:0).map((o,a)=>{let h=a+1;return o.map(f=>({...f,rank:h}))});return{header:u,titles:n}}function Me(l,s,d){const u=s.map((r,m,b)=>{let p=T(I(r[0].name,42),"−","both",!0,42),w=r[r.length-1].miscellaneous===void 0?void 0:r[r.length-1].miscellaneous,c=r.flatMap(a=>F([k(a.fiscalYear+" Cumulative",30,"left"),k(`${a.value/100}M`,9,"right")],!0)),n=Number(r.reduce((a,h)=>a+h.value,0)/100).toFixed(2),o=w===void 0?T(F([k("Sum (Units)",30,"left"),k(`${n}M`,9,"right")]),"−","both",!0):T(F([k("Sum",30,"left"),k(`${n}M`,9,"right")]),"−","both",!0)+T(I(w,42),"−","bottom",!0,42);return d?{title:r[0].name,table:[p,...c,o].reduce((a,h)=>a+h)}:[p,...c,o].reduce((a,h)=>a+h)});return d?{header:l,titleList:u}:[l,u.reduce((r,m)=>typeof m=="string"?r+m:r,"")].reduce((r,m)=>typeof m=="string"?r+m:r,"")}const K=Ee(Q,"Sega Sammy",Ve),X=Me(K.header,K.titles,!0);function Ne(){const[l,s]=C.useState(""),[d,u]=C.useState(""),[r,m]=C.useState(0),[b,p]=C.useState("All"),[w,c]=C.useState(6),[n,o]=C.useState("FY Cumulative"),a=B(i=>i);let h=q.titleList.filter(i=>{if(b==="All")return i;if(b===i.platforms)return i}),f=H(X.titleList,d),v=H(h,d),S=new Set;d.length!==0&&l==="Sega Sammy Software Units - Cumulative"?f.map(i=>[...i.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${d})\\w+`,"g"))].flat().map(e=>S.add(e))):d.length!==0&&l==="Sega Sammy FY Series IP - Cumulative"&&v.map(i=>[...i.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${d})\\w+`,"g"))].flat().map(e=>S.add(e)));let L=f.reduce((i,e)=>i+e.table,""),P=X.header+L,A=v.reduce((i,e)=>i+e.table,""),R=q.header+A;const Y=[{value:"Sega Sammy Software Units - Cumulative",placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${r}`,description:"Clear field to show all titles of the selected platform"},{value:"Sega Sammy FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${r}`,description:"Clear field to show all game series listed."}].filter(i=>i.value===l);C.useEffect(()=>{switch(l){case"Sega Sammy Consolidated Operating Results - Cumulative":c(n==="1st Quarter"?0:n==="2nd Quarter"?1:n==="3rd Quarter"?2:n==="4th Quarter"?3:n==="First Half"?4:n==="First Three Quarters"?5:6);break;case"Sega Sammy Sales Per Software Unit - Cumulative":c(n==="1st Quarter"?0:n==="2nd Quarter"?1:n==="3rd Quarter"?2:n==="4th Quarter"?3:n==="First Half"?4:n==="First Three Quarters"?5:6);break;case"Sega Sammy Software Units - Cumulative":m(f.length);break;case"Sega Sammy FY Series IP - Cumulative":m(v.length);break}},[d,l,b,n]);const V=[{name:"Sega Sammy Consolidated Operating Results - Cumulative",value:Ue[w]},{name:"Sega Sammy Sales Per Software Unit - Cumulative",value:Ie[w]},{name:"Sega Sammy Software Units - Cumulative",value:P},{name:"Sega Sammy FY Series IP - Cumulative",value:R}],E=V.map(i=>i.name),N=(i=>e=>{let[g]=i.filter(y=>e===y.name);return g?g.value:""})(V);return _("div",{children:[t(j,{fullWidth:!0,orientation:"vertical",value:l,onChange:s,data:E}),_(x,{onCopy:i=>ae(i,le),style:{backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l==="Sega Sammy Consolidated Operating Results - Cumulative"||l==="Sega Sammy Sales Per Software Unit - Cumulative"?t(D,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:n,onChange:o}):void 0,l==="Sega Sammy FY Series IP - Cumulative"?t(D,{data:["All","Developed in-house IP","Acquired IP","Licensed third party IP"],defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:b,onChange:p}):void 0,l==="Sega Sammy Software Units - Cumulative"||l==="Sega Sammy FY Series IP - Cumulative"?_(te,{children:[t(re,{placeholder:Y[0].placeholder,label:Y[0].label,description:Y[0].description,radius:"xl",value:d,onChange:i=>{u(i.target.value.toLowerCase())}}),S.size>0&&d!==S.values().next().value?T(I("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,S.size>0&&d!==S.values().next().value?[...S].flatMap((i,e)=>e>3?[]:t(G,{onClick:()=>u(i),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(x,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},children:i})},i)):d===S.values().next().value||r===0?t(G,{onClick:()=>u(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(x,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,N(l)]}),t(U,{h:"xl"}),t(U,{h:"xl"}),t(U,{h:"xl"}),t(U,{h:"xl"})]})}const W=2023,$e=2023-2005,O=Array.from({length:$e+1},(l,s)=>"FY3/"+(W-s));function Je(){const l=T(I("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),d=me("Sega (They publish Hatsune Miku games), this is where you can find archived Sega Series IP data.",40,"−",80),[u,r]=C.useState(""),[m,b]=C.useState("Data by Fiscal Year"),p=B(n=>n),c=(n=>o=>{let[a]=n.map((f,v)=>o===f?v:-1).filter(f=>f!==-1),h=n.length;return a>=0?t(De,{setIndex:a,yearLength:h}):null})(O);return _("div",{children:[t(z,{mb:"md",align:"center",children:t(x,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:d})}),t(z,{align:"center",children:_(x,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l,t(fe,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:t(x,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:T(I("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),t(j,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:m,onChange:b,data:["Data by Fiscal Year","Special Page"]}),m==="Data by Fiscal Year"?t(he,{position:"center",children:t(D,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${W-(O.length-1)} to ${W}.`,description:`Fiscal Year ending March ${Number(u==null?void 0:u.slice(4,8))?u==null?void 0:u.slice(4,8):""}.`,radius:"xl",size:"md",data:O,value:u,onChange:r})}):t(Ne,{}),m==="Data by Fiscal Year"&&typeof u=="string"?c(u):null]})}export{Je as default};
