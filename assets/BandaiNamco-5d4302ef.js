import{d as _,l as N,b as z,s as j,h as U,r as v,u as A,t as q,c as a,j as k,C as b,F as G,p as F,B as y,f as J,g as K,S as $,A as X,G as Z}from"./index-9a4e9ece.js";import{e as ee,f as ae,g as te}from"./sales_per_software_unit_cml-12f43ca7.js";import{p as re,a as le,b as se,c as oe,d as ne,f as E}from"./annual_report_cml_data-5a0aa6bb.js";import{p as ie,q as ce,t as ue,G as de,S as O,a as H,d as V,u as me,b as M}from"./GRAPH_CONSOLIDATED_EARNINGS-0bff3e79.js";import{G as he}from"./GRAPH_SOFTWARE_SALES-66cd08ae.js";import{T as Q}from"./TextInput-60dbc0b7.js";import{S as Y}from"./Space-d89ed70a.js";import"./ChevronIcon-f6d97bd5.js";const fe=[le,se,oe,ne],pe=l=>l.series.map(s=>({title:s.title,releaseDate:s.releaseDate,fyEndMonth:s.fyEndMonth,value:s.value,valueLastFY:s.valueLastFY,valueLastTwoFYs:s.valueLastTwoFYs,miscellaneous:s.miscellaneous})),I=fe.map((l,o,s)=>{let r={bandaiNamcoHeader:"Bandai Namco - IP Series Data",secondHeader:"First appearance to recent FY",thirdHeader:"Rank",fourthHeader:"Units",ltd:"Life-To-Date",summaryHeader:" Placeholder",fiscalYear:l.fiscalYear,fiscalYearYoY:l.fiscalYear+" Cml. YoY%"},g=pe(l).filter((t,n,u)=>t).sort((t,n)=>n.value-n.valueLastFY>t.value-t.valueLastFY?1:n.value-n.valueLastFY<t.value-t.valueLastFY?-1:0).map((t,n)=>({...t,rank:n+1})).map(t=>({title:t.title,table:re(t,r,42,11)}));const h=_(l.fiscalYear??"N/A",4),f=N(z([j(h,h.length+1,"left")]),"−","both",!0);return{header:U([r.bandaiNamcoHeader,r.secondHeader,r.thirdHeader,r.fourthHeader],32)+`
`+f,titleList:g}});function ve(l){const[o,s]=v.useState(""),r=A(e=>e),[m,c]=v.useState(""),[g,h]=v.useState(0);let f=-1,d=I==null?void 0:I[l.setIndex+f],t=new Set,n=q(d,"FY Series IP",o,m,t);const u=[{value:n.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${g}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===o);v.useEffect(()=>{switch(o){case n.sectionTitle:h(n.titlesLength.length);break}},[m,o]);const x=Array.from({length:l.yearLength},(e,i)=>{var p,S;return[{name:"Data Sources",value:(p=ie)==null?void 0:p[i]},{name:"Consolidated Operating Results",value:ce.get(i),graph:a(de,{setData:ue.get(i)})},{name:"Software Sales",value:(S=ee)==null?void 0:S[i],graph:a(he,{setData:ae[i]})},{name:"FY Series IP",value:n.table}].filter(W=>W.value!==void 0)}),C=x[l.setIndex].map(e=>e.name),L=e=>i=>{let[p]=e.filter(S=>i===S.name);return(p==null?void 0:p.value)||""},T=(e=>i=>{let[p]=e.filter(S=>i===S.name);return p==null?void 0:p.graph})(x[l.setIndex]),R=L(x[l.setIndex]);function B(){setTimeout(()=>{s("")},10)}return k("div",{children:[C.filter(e=>e===o).length===0&&o.length!==0?B():a(O,{fullWidth:!0,orientation:"vertical",value:o,onChange:s,data:C}),o==="Data Sources"?R(o):k(b,{onCopy:e=>H(e,V),style:{backgroundColor:`${r.colour}`,color:r.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[o===n.sectionTitle?k(G,{children:[a(Q,{placeholder:u[0].placeholder,label:u[0].label,description:u[0].description,radius:"xl",value:m,onChange:e=>{c(e.target.value.toLocaleLowerCase())}}),t.size>0&&m!==t.values().next().value?N(F("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,t.size>0&&m!==t.values().next().value?[...t].flatMap((e,i)=>i>3?[]:a(y,{onClick:()=>c(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${r.colour}`,color:r.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):m===t.values().next().value||g===0?a(y,{onClick:()=>c(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${r.colour}`,color:r.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,a("br",{})]}):void 0,R(o)]}),T(o)]})}function be(){const[l,o]=v.useState(""),s=A(e=>e),[r,m]=v.useState(""),[c,g]=v.useState(0),[h,f]=v.useState(6),[d,t]=v.useState("FY Cumulative");let n=J(E.titleList,r),u=new Set;r.length!==0&&l==="Bandai Namco FY Series IP - Cumulative"&&n.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${r})\\w+`,"g"))].flat().map(i=>u.add(i)));let x=n.reduce((e,i)=>e+i.table,""),C=E.header+x;const L=[{value:"Bandai Namco FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${c}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===l);v.useEffect(()=>{switch(l){case"Bandai Namco Consolidated Operating Results - Cumulative":f(d==="1st Quarter"?0:d==="2nd Quarter"?1:d==="3rd Quarter"?2:d==="4th Quarter"?3:d==="First Half"?4:d==="First Three Quarters"?5:6);break;case"Bandai Namco FY Series IP - Cumulative":g(n.length);break}},[r,l,d]);const w=[{name:"Bandai Namco Consolidated Operating Results - Cumulative",value:me[h]},{name:"Bandai Namco Sales Per Software Unit - Cumulative",value:te},{name:"Bandai Namco FY Series IP - Cumulative",value:C}],T=w.map(e=>e.name),B=(e=>i=>{let[p]=e.filter(S=>i===S.name);return p?p.value:""})(w);return k("div",{children:[a(O,{fullWidth:!0,orientation:"vertical",value:l,onChange:o,data:T}),k(b,{onCopy:e=>H(e,V),style:{backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l==="Bandai Namco Consolidated Operating Results - Cumulative"?a(M,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:d,onChange:t}):void 0,l==="Bandai Namco FY Series IP - Cumulative"?k(G,{children:[a(Q,{placeholder:L[0].placeholder,label:L[0].label,description:L[0].description,radius:"xl",value:r,onChange:e=>{m(e.target.value.toLowerCase())}}),u.size>0&&r!==u.values().next().value?N(F("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,u.size>0&&r!==u.values().next().value?[...u].flatMap((e,i)=>i>3?[]:a(y,{onClick:()=>m(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):r===u.values().next().value||c===0?a(y,{onClick:()=>m(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:a(b,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${s.colour}`,color:s.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,a("br",{})]}):void 0,B(l)]}),a(Y,{h:"xl"}),a(Y,{h:"xl"}),a(Y,{h:"xl"}),a(Y,{h:"xl"})]})}const P=2023,ge=2023-2006,D=Array.from({length:ge+1},(l,o)=>"FY3/"+(P-o));function ye(){const l=N(F("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),s=K("Bandai Namco (They publish Dark Souls), this is where you can find archived Series IP data.",42,"−",80),[r,m]=v.useState("Data by Fiscal Year"),[c,g]=v.useState(""),h=A(t=>t),d=(t=>n=>{let[u]=t.map((C,L)=>n===C?L:-1).filter(C=>C!==-1),x=t.length;return u>=0?a(ve,{setIndex:u,yearLength:x}):null})(D);return k("div",{children:[a($,{mb:"md",align:"center",children:a(b,{style:{backgroundColor:`${h.colour}`,color:h.fontColor==="dark"?"#fff":"#000000"},block:!0,children:s})}),a($,{align:"center",children:k(b,{style:{backgroundColor:`${h.colour}`,color:h.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l,a(X,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:a(b,{style:{backgroundColor:`${h.colour}`,color:h.fontColor==="dark"?"#fff":"#000000"},block:!0,children:N(F("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),a(O,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:r,onChange:m,data:["Data by Fiscal Year","Special Page"]}),r==="Data by Fiscal Year"?a(Z,{position:"center",children:a(M,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${P-(D.length-1)} to ${P}.`,description:`Fiscal Year ending March ${Number(c==null?void 0:c.slice(4,8))?c==null?void 0:c.slice(4,8):""}.`,radius:"xl",size:"md",data:D,value:c,onChange:g})}):a(be,{}),r==="Data by Fiscal Year"&&typeof c=="string"?d(c):null]})}export{ye as default};
