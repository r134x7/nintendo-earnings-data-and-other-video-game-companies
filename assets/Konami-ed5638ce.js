import{r as h,u as T,t as z,e as t,j as k,C as g,F as V,l as Y,p as R,B as K,f as _,m as j,A as B,S as D,G as H}from"./index-e6c73e09.js";import{t as X,u as I}from"./annual_report_cumulative-e0bd1624.js";import{i as Z,j as q}from"./segment_earnings_general_cml_data-da82a744.js";import{X as J,Y as U,Z as ee,G as te,S as Q,a as E,d as O,_ as ae,b as G}from"./GRAPH_CONSOLIDATED_EARNINGS-b4e64e5a.js";import{T as M}from"./TextInput-7e40bc5f.js";import{S as L}from"./Space-474943cd.js";import"./ChevronIcon-502b1b04.js";function le(o){const[s,C]=h.useState(""),i=T(r=>r.colour),n=T(r=>r.fontColor),[u,v]=h.useState(""),[b,S]=h.useState(0);let a=new Set,l=z(X.get(o.setIndex),"FY Series IP/Titles",s,u,a);const d=[{value:l.sectionTitle,placeholder:"Search specific series/titles",label:`Series Search - Number of game series/titles shown: ${b}`,description:"Clear field to show all game series/titles listed."}].filter(r=>r.value===s);h.useEffect(()=>{switch(s){case l.sectionTitle:S(l.titlesLength.length);break}},[u,s]);const p=Array.from({length:o.yearLength},(r,m)=>[{name:"Data Sources",value:J.get(m)},{name:"Consolidated Operating Results",value:U.get(m),graph:t(te,{setData:ee.get(m)})},{name:"Segment Information",value:Z.get(m)},{name:"FY Series IP/Titles",value:l.table}].filter(e=>e.value!==void 0)),c=p[o.setIndex].map(r=>r.name),w=r=>m=>{let[e]=r.filter(f=>m===f.name);return(e==null?void 0:e.value)||""},x=(r=>m=>{let[e]=r.filter(f=>m===f.name);return e==null?void 0:e.graph})(p[o.setIndex]),y=w(p[o.setIndex]);function N(){setTimeout(()=>{C("")},10)}return k("div",{children:[c.filter(r=>r===s).length===0&&s.length!==0?N():t(Q,{fullWidth:!0,orientation:"vertical",value:s,onChange:C,data:c}),s==="Data Sources"?y(s):k(g,{onCopy:r=>E(r,O),style:{backgroundColor:`${i}`,color:n==="dark"?"#fff":"#000000"},block:!0,children:[s===l.sectionTitle?k(V,{children:[t(M,{placeholder:d[0].placeholder,label:d[0].label,description:d[0].description,radius:"xl",value:u,onChange:r=>{v(r.target.value.toLocaleLowerCase())}}),a.size>0&&u!==a.values().next().value?Y(R("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,a.size>0&&u!==a.values().next().value?[...a].flatMap((r,m)=>m>3?[]:t(K,{onClick:()=>v(r),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${i}`,color:n==="dark"?"#fff":"#000000"},children:r})},r)):u===a.values().next().value||b===0?t(K,{onClick:()=>v(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${i}`,color:n==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,y(s)]}),x(s)]})}function re(){const[o,s]=h.useState(""),C=T(e=>e.colour),i=T(e=>e.fontColor),[n,u]=h.useState(""),[v,b]=h.useState(0),[S,a]=h.useState(6),[l,d]=h.useState("FY Cumulative");let p=_(I.titleList,n),c=new Set;n.length!==0&&o==="Konami FY Series IP - Cumulative"&&p.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${n})\\w+`,"g"))].flat().map(f=>c.add(f)));let w=p.reduce((e,f)=>e+f.table,""),F=I.header+w+I.footnotes;console.log(I.footnotes);const x=[{value:"Konami FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${v}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===o);h.useEffect(()=>{switch(o){case"Konami Consolidated Operating Results - Cumulative":a(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Konami Segment Information - Cumulative":a(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Konami FY Series IP - Cumulative":b(p.length);break}},[n,o,l]);const y=[{name:"Konami Consolidated Operating Results - Cumulative",value:ae[S]},{name:"Konami Segment Information - Cumulative",value:q[S]},{name:"Konami FY Series IP - Cumulative",value:F}],N=y.map(e=>e.name),m=(e=>f=>{let[$]=e.filter(W=>f===W.name);return $?$.value:""})(y);return k("div",{children:[t(Q,{fullWidth:!0,orientation:"vertical",value:o,onChange:s,data:N}),k(g,{onCopy:e=>E(e,O),style:{backgroundColor:`${C}`,color:i==="dark"?"#fff":"#000000"},block:!0,children:[o==="Konami Consolidated Operating Results - Cumulative"||o==="Konami Segment Information - Cumulative"?t(G,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:l,onChange:d}):void 0,o==="Konami FY Series IP - Cumulative"?k(V,{children:[t(M,{placeholder:x[0].placeholder,label:x[0].label,description:x[0].description,radius:"xl",value:n,onChange:e=>{u(e.target.value.toLowerCase())}}),c.size>0&&n!==c.values().next().value?Y(R("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,c.size>0&&n!==c.values().next().value?[...c].flatMap((e,f)=>f>3?[]:t(K,{onClick:()=>u(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${C}`,color:i==="dark"?"#fff":"#000000"},children:e})},e)):n===c.values().next().value||v===0?t(K,{onClick:()=>u(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${C}`,color:i==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,m(o)]}),t(L,{h:"xl"}),t(L,{h:"xl"}),t(L,{h:"xl"}),t(L,{h:"xl"})]})}const A=2025,oe=A-2013,P=Array.from({length:oe+1},(o,s)=>"FY3/"+(A-s));function he(){const o=Y(R("Also, visit Install Base. It's a place to discuss and elaborate on the business side of the video game industry.",40),"=","top",!0,40),C=j("Konami (They publish Metal Gear Solid), this is where you can find archived data.",40,"−",80),[i,n]=h.useState(""),[u,v]=h.useState("Data by Fiscal Year"),b=T(d=>d.colour),S=T(d=>d.fontColor),l=(d=>p=>{let[c]=d.map((F,x)=>p===F?x:-1).filter(F=>F!==-1),w=d.length;return c>=0?t(le,{setIndex:c,yearLength:w}):null})(P);return k("div",{children:[t(D,{mb:"md",align:"center",children:t(g,{style:{backgroundColor:`${b}`,color:S==="dark"?"#fff":"#000000"},block:!0,children:C})}),t(D,{align:"center",children:k(g,{style:{backgroundColor:`${b}`,color:S==="dark"?"#fff":"#000000"},block:!0,children:[o,t(B,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/",target:"_blank",children:t(g,{style:{backgroundColor:`${b}`,color:S==="dark"?"#fff":"#000000"},block:!0,children:Y(R("https://www.installbaseforum.com/",36),"=","both",!0,36)})})]})}),t(Q,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:u,onChange:v,data:["Data by Fiscal Year","Special Page"]}),u==="Data by Fiscal Year"?t(H,{position:"center",children:t(G,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${A-(P.length-1)} to ${A}.`,description:`Fiscal Year ending March ${Number(i==null?void 0:i.slice(4,8))?i==null?void 0:i.slice(4,8):""}.`,radius:"xl",size:"md",data:P,value:i,onChange:n})}):t(re,{}),u==="Data by Fiscal Year"&&typeof i=="string"?l(i):null]})}export{he as default};
