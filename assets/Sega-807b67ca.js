import{r as v,u as z,e as se,t as oe,c as t,j as L,C as k,F as Z,l as w,p as P,B as D,d as ie,b as F,s as T,f as H,g as ne,S as j,A as ue,G as ce}from"./index-97d2b75f.js";import{s as de,e as me,f as fe,g as he,h as Se,i as ge,p as pe,j as q}from"./annual_report_cumulative-86494100.js";import{s as ve,b as Ce,c as be,d as we,a as ye,g as Te,G as ke,e as xe}from"./GRAPH_SOFTWARE_SALES-b6858a8e.js";import{s as Le,l as Ie,m as Fe,G as Pe,S as B,a as ee,b as E,d as te,o as Ae}from"./GRAPH_CONSOLIDATED_EARNINGS-f608f7b0.js";import{G as Re}from"./GRAPH_NINTENDO_GLOBAL_HARDWARE_SOFTWARE_MOBILE-08676c1b.js";import{T as ae}from"./TextInput-07e65411.js";import{S as V}from"./Space-31ae9772.js";import"./ChevronIcon-2a3e80d5.js";const y=new Map;y.set(y.size,ve);y.set(y.size,Ce);y.set(y.size,be);y.set(y.size,we);const le=new Map,re=new Map;y.forEach((l,s,c)=>{le.set(s,ye(l,c.get(s+1),38,"Billion","One Thousand")),re.set(s,Te(l,c.get(s+1),"Billion","One Thousand"))});y.clear();function Ye(l){const[s,c]=v.useState(""),d=z(e=>e),[r,m]=v.useState(""),[C,g]=v.useState(0),[b,u]=v.useState("All");let o=-1,i=de.get(l.setIndex+o),a=i===void 0?void 0:[i],h=me?.[l.setIndex],f=new Set,p=new Set,S=se(a,i?.header??"ERROR","FY Series IP",s,b??"All","Single","Single",f,r,p),I=oe(h,"Software Units",s,r,p);const A=[{value:I.sectionTitle,placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${C}`,description:"Clear field to show all titles of the selected platform"},{value:S.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${C}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===s);v.useEffect(()=>{switch(s){case S.sectionTitle:g(S.titlesLength.length),([...f].filter(n=>n===b)?.length??0)===0&&u("All");break;case I.sectionTitle:g(I.titlesLength.length);break}},[s,r,b,l.setIndex,f]);const R=Array.from({length:l.yearLength},(e,n)=>[{name:"Data Sources",value:Le?.[n]},{name:"Consolidated Operating Results",value:Ie.get(n),graph:t(Pe,{setData:Fe.get(n)})},{name:"Software Sales",value:le.get(n),graph:t(ke,{setData:re.get(n)})},{name:"Software Units",value:I.table,graph:t(Re,{setData:fe[n]})},{name:"FY Series IP",value:S.table}].filter(x=>x.value!==void 0)),G=R[l.setIndex].map(e=>e.name),Y=e=>n=>{let[x]=e.filter(U=>n===U.name);return x?.value||""},N=(e=>n=>{let[x]=e.filter(U=>n===U.name);return x?.graph})(R[l.setIndex]),$=Y(R[l.setIndex]);function Q(){setTimeout(()=>{c("")},10)}return L("div",{children:[G.filter(e=>e===s).length===0&&s.length!==0?Q():t(B,{fullWidth:!0,orientation:"vertical",value:s,onChange:c,data:G}),s==="Data Sources"?$(s):L(k,{onCopy:e=>ee(e,te),style:{backgroundColor:`${d.colour}`,color:d.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[s===S.sectionTitle?t(E,{data:["All"].concat([...f]),defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:b,onChange:u}):void 0,s===S.sectionTitle||s===I.sectionTitle?L(Z,{children:[t(ae,{placeholder:A[0].placeholder,label:A[0].label,description:A[0].description,radius:"xl",value:r,onChange:e=>{m(e.target.value.toLowerCase())}}),p.size>0&&r!==p.values().next().value?w(P("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,p.size>0&&r!==p.values().next().value?[...p].flatMap((e,n)=>n>3?[]:t(D,{onClick:()=>m(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(k,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${d.colour}`,color:d.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):r===p.values().next().value||C===0?t(D,{onClick:()=>m(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(k,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${d.colour}`,color:d.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,$(s)]}),N(s)]})}const _=[he,Se,ge],J=ie(_.at(-1)?.fiscalYear??"N/A",_.at(-1)?.currentQuarter??4),Ue=w(F([T(J,J.length+1,"left")]),"−","bottom",!0);function Ge(l,s,c){let d=w(F([T(s,s.length+1,"left")]),"−","top",!0)+w(F([T("Full Game Software Unit Sales - Cumulative",43,"left")]),"−","both",!0)+c,r=l.map(i=>{let a=i.softwareUnits.flatMap(f=>pe(f)),h=i.fiscalYear;return a.map(f=>({...f,fiscalYear:h}))}),m=r.flat().filter(i=>i.period==="4th Quarter"),C=r.flat().map(i=>i.name);const g=[...new Set(C)];function b(i){return i.map((a,h,f)=>m.filter(S=>S.name===a))}let o=b(g).map((i,a,h)=>i).sort((i,a)=>a[a.length-1].value>i[i.length-1].value?1:a[a.length-1].value<i[i.length-1].value?-1:0).map((i,a)=>{let h=a+1;return i.map(f=>({...f,rank:h}))});return{header:d,titles:o}}function Ve(l,s,c){const d=s.map((r,m,C)=>{let g=w(P(r[0].name,42),"−","both",!0,42),b=r[r.length-1].miscellaneous===void 0?void 0:r[r.length-1].miscellaneous,u=r.flatMap(a=>F([T(a.fiscalYear+" Cumulative",30,"left"),T(`${a.value/100}M`,9,"right")],!0)),o=Number(r.reduce((a,h)=>a+h.value,0)/100).toFixed(2),i=b===void 0?w(F([T("Sum (Units)",30,"left"),T(`${o}M`,9,"right")]),"−","both",!0):w(F([T("Sum",30,"left"),T(`${o}M`,9,"right")]),"−","both",!0)+w(P(b,42),"−","bottom",!0,42);return c?{title:r[0].name,table:[g,...u,i].reduce((a,h)=>a+h)}:[g,...u,i].reduce((a,h)=>a+h)});return c?{header:l,titleList:d}:[l,d.reduce((r,m)=>typeof m=="string"?r+m:r,"")].reduce((r,m)=>typeof m=="string"?r+m:r,"")}const K=Ge(_,"Sega Sammy",Ue),X=Ve(K.header,K.titles,!0);function De(){const[l,s]=v.useState(""),[c,d]=v.useState(""),[r,m]=v.useState(0),[C,g]=v.useState("All"),[b,u]=v.useState(6),[o,i]=v.useState("FY Cumulative"),a=z(e=>e);let h=q.titleList.filter(e=>{if(C==="All")return e;if(C===e.platforms)return e}),f=H(X.titleList,c),p=H(h,c),S=new Set;c.length!==0&&l==="Sega Sammy Software Units - Cumulative"?f.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${c})\\w+`,"g"))].flat().map(n=>S.add(n))):c.length!==0&&l==="Sega Sammy FY Series IP - Cumulative"&&p.map(e=>[...e.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${c})\\w+`,"g"))].flat().map(n=>S.add(n)));let I=f.reduce((e,n)=>e+n.table,""),A=X.header+I,R=p.reduce((e,n)=>e+n.table,""),G=q.header+R;const Y=[{value:"Sega Sammy Software Units - Cumulative",placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${r}`,description:"Clear field to show all titles of the selected platform"},{value:"Sega Sammy FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${r}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===l);v.useEffect(()=>{switch(l){case"Sega Sammy Consolidated Operating Results - Cumulative":u(o==="1st Quarter"?0:o==="2nd Quarter"?1:o==="3rd Quarter"?2:o==="4th Quarter"?3:o==="First Half"?4:o==="First Three Quarters"?5:6);break;case"Sega Sammy Sales Per Software Unit - Cumulative":u(o==="1st Quarter"?0:o==="2nd Quarter"?1:o==="3rd Quarter"?2:o==="4th Quarter"?3:o==="First Half"?4:o==="First Three Quarters"?5:6);break;case"Sega Sammy Software Units - Cumulative":m(f.length);break;case"Sega Sammy FY Series IP - Cumulative":m(p.length);break}},[c,l,C,o]);const M=[{name:"Sega Sammy Consolidated Operating Results - Cumulative",value:Ae[b]},{name:"Sega Sammy Sales Per Software Unit - Cumulative",value:xe[b]},{name:"Sega Sammy Software Units - Cumulative",value:A},{name:"Sega Sammy FY Series IP - Cumulative",value:G}],N=M.map(e=>e.name),Q=(e=>n=>{let[x]=e.filter(U=>n===U.name);return x?x.value:""})(M);return L("div",{children:[t(B,{fullWidth:!0,orientation:"vertical",value:l,onChange:s,data:N}),L(k,{onCopy:e=>ee(e,te),style:{backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l==="Sega Sammy Consolidated Operating Results - Cumulative"||l==="Sega Sammy Sales Per Software Unit - Cumulative"?t(E,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:o,onChange:i}):void 0,l==="Sega Sammy FY Series IP - Cumulative"?t(E,{data:["All","Developed in-house IP","Acquired IP","Licensed third party IP"],defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:C,onChange:g}):void 0,l==="Sega Sammy Software Units - Cumulative"||l==="Sega Sammy FY Series IP - Cumulative"?L(Z,{children:[t(ae,{placeholder:Y[0].placeholder,label:Y[0].label,description:Y[0].description,radius:"xl",value:c,onChange:e=>{d(e.target.value.toLowerCase())}}),S.size>0&&c!==S.values().next().value?w(P("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,S.size>0&&c!==S.values().next().value?[...S].flatMap((e,n)=>n>3?[]:t(D,{onClick:()=>d(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(k,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):c===S.values().next().value||r===0?t(D,{onClick:()=>d(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(k,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,Q(l)]}),t(V,{h:"xl"}),t(V,{h:"xl"}),t(V,{h:"xl"}),t(V,{h:"xl"})]})}const W=2023,Ee=2023-2005,O=Array.from({length:Ee+1},(l,s)=>"FY3/"+(W-s));function Be(){const l=w(P("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),c=ne("Sega (They publish Hatsune Miku games), this is where you can find archived Sega Series IP data.",40,"−",80),[d,r]=v.useState(""),[m,C]=v.useState("Data by Fiscal Year"),g=z(o=>o),u=(o=>i=>{let[a]=o.map((f,p)=>i===f?p:-1).filter(f=>f!==-1),h=o.length;return a>=0?t(Ye,{setIndex:a,yearLength:h}):null})(O);return L("div",{children:[t(j,{mb:"md",align:"center",children:t(k,{style:{backgroundColor:`${g.colour}`,color:g.fontColor==="dark"?"#fff":"#000000"},block:!0,children:c})}),t(j,{align:"center",children:L(k,{style:{backgroundColor:`${g.colour}`,color:g.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l,t(ue,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:t(k,{style:{backgroundColor:`${g.colour}`,color:g.fontColor==="dark"?"#fff":"#000000"},block:!0,children:w(P("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),t(B,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:m,onChange:C,data:["Data by Fiscal Year","Special Page"]}),m==="Data by Fiscal Year"?t(ce,{position:"center",children:t(E,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${W-(O.length-1)} to ${W}.`,description:`Fiscal Year ending March ${Number(d?.slice(4,8))?d?.slice(4,8):""}.`,radius:"xl",size:"md",data:O,value:d,onChange:r})}):t(De,{}),m==="Data by Fiscal Year"&&typeof d=="string"?u(d):null]})}export{Be as default};
