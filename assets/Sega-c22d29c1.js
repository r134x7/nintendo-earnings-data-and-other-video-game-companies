import{r as C,u as B,e as ne,t as ue,c as t,j as F,C as L,F as ae,l as T,p as A,B as E,d as ce,b as P,s as x,f as j,g as de,S as q,A as me,G as fe}from"./index-d1fcee10.js";import{s as he,e as Se,f as ge,g as pe,h as ve,i as Ce,p as be,j as J}from"./annual_report_cumulative-f91deec5.js";import{s as we,f as ye,h as Te,i as ke,a as xe,g as Le,G as Fe,j as Ie}from"./GRAPH_SOFTWARE_SALES-7ab61fd3.js";import{s as Pe,l as Ae,m as Ye,G as Re,S as H,a as le,b as M,d as re,o as Ue}from"./GRAPH_CONSOLIDATED_EARNINGS-f681972c.js";import{G as Ge}from"./GRAPH_NINTENDO_GLOBAL_HARDWARE_SOFTWARE_MOBILE-4336ed16.js";import{T as se}from"./TextInput-5da02836.js";import{S as D}from"./Space-b1f134a9.js";import"./ChevronIcon-12154d6e.js";const k=new Map;k.set(k.size,we);k.set(k.size,ye);k.set(k.size,Te);k.set(k.size,ke);const oe=new Map,ie=new Map;k.forEach((l,s,d)=>{oe.set(s,xe(l,d.get(s+1),38,"Billion","One Thousand")),ie.set(s,Le(l,d.get(s+1),"Billion","One Thousand"))});k.clear();function Ve(l){var i;const[s,d]=C.useState(""),u=B(e=>e),[r,m]=C.useState(""),[b,p]=C.useState(0),[w,c]=C.useState("All");let n=-1,o=he.get(l.setIndex+n),a=o===void 0?void 0:[o],h=(i=Se)==null?void 0:i[l.setIndex],f=new Set,v=new Set,S=ne(a,(o==null?void 0:o.header)??"ERROR","FY Series IP",s,w??"All","Single","Single",f,r,v),I=ue(h,"Software Units",s,r,v);const Y=[{value:I.sectionTitle,placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${b}`,description:"Clear field to show all titles of the selected platform"},{value:S.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${b}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===s);C.useEffect(()=>{switch(s){case S.sectionTitle:p(S.titlesLength.length);let e=[...f].filter(g=>g===w);((e==null?void 0:e.length)??0)===0&&c("All");break;case I.sectionTitle:p(I.titlesLength.length);break}},[s,r,w,l.setIndex,f]);const R=Array.from({length:l.yearLength},(e,g)=>{var y;return[{name:"Data Sources",value:(y=Pe)==null?void 0:y[g]},{name:"Consolidated Operating Results",value:Ae.get(g),graph:t(Re,{setData:Ye.get(g)})},{name:"Software Sales",value:oe.get(g),graph:t(Fe,{setData:ie.get(g)})},{name:"Software Units",value:I.table,graph:t(Ge,{setData:ge[g]})},{name:"FY Series IP",value:S.table}].filter(G=>G.value!==void 0)}),V=R[l.setIndex].map(e=>e.name),U=e=>g=>{let[y]=e.filter(G=>g===G.name);return(y==null?void 0:y.value)||""},$=(e=>g=>{let[y]=e.filter(G=>g===G.name);return y==null?void 0:y.graph})(R[l.setIndex]),Q=U(R[l.setIndex]);function O(){setTimeout(()=>{d("")},10)}return F("div",{children:[V.filter(e=>e===s).length===0&&s.length!==0?O():t(H,{fullWidth:!0,orientation:"vertical",value:s,onChange:d,data:V}),s==="Data Sources"?Q(s):F(L,{onCopy:e=>le(e,re),style:{backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[s===S.sectionTitle?t(M,{data:["All"].concat([...f]),defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:w,onChange:c}):void 0,s===S.sectionTitle||s===I.sectionTitle?F(ae,{children:[t(se,{placeholder:Y[0].placeholder,label:Y[0].label,description:Y[0].description,radius:"xl",value:r,onChange:e=>{m(e.target.value.toLowerCase())}}),v.size>0&&r!==v.values().next().value?T(A("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,v.size>0&&r!==v.values().next().value?[...v].flatMap((e,g)=>g>3?[]:t(E,{onClick:()=>m(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(L,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},children:e})},e)):r===v.values().next().value||b===0?t(E,{onClick:()=>m(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(L,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,Q(s)]}),$(s)]})}const W=[pe,ve,Ce];var ee,te;const K=ce(((ee=W.at(-1))==null?void 0:ee.fiscalYear)??"N/A",((te=W.at(-1))==null?void 0:te.currentQuarter)??4),De=T(P([x(K,K.length+1,"left")]),"−","bottom",!0);function Ee(l,s,d){let u=T(P([x(s,s.length+1,"left")]),"−","top",!0)+T(P([x("Full Game Software Unit Sales - Cumulative",43,"left")]),"−","both",!0)+d,r=l.map(o=>{let a=o.softwareUnits.flatMap(f=>be(f)),h=o.fiscalYear;return a.map(f=>({...f,fiscalYear:h}))}),m=r.flat().filter(o=>o.period==="4th Quarter"),b=r.flat().map(o=>o.name);const p=[...new Set(b)];function w(o){return o.map((a,h,f)=>m.filter(S=>S.name===a))}let n=w(p).map((o,a,h)=>o).sort((o,a)=>a[a.length-1].value>o[o.length-1].value?1:a[a.length-1].value<o[o.length-1].value?-1:0).map((o,a)=>{let h=a+1;return o.map(f=>({...f,rank:h}))});return{header:u,titles:n}}function Me(l,s,d){const u=s.map((r,m,b)=>{let p=T(A(r[0].name,42),"−","both",!0,42),w=r[r.length-1].miscellaneous===void 0?void 0:r[r.length-1].miscellaneous,c=r.flatMap(a=>P([x(a.fiscalYear+" Cumulative",30,"left"),x(`${a.value/100}M`,9,"right")],!0)),n=Number(r.reduce((a,h)=>a+h.value,0)/100).toFixed(2),o=w===void 0?T(P([x("Sum (Units)",30,"left"),x(`${n}M`,9,"right")]),"−","both",!0):T(P([x("Sum",30,"left"),x(`${n}M`,9,"right")]),"−","both",!0)+T(A(w,42),"−","bottom",!0,42);return d?{title:r[0].name,table:[p,...c,o].reduce((a,h)=>a+h)}:[p,...c,o].reduce((a,h)=>a+h)});return d?{header:l,titleList:u}:[l,u.reduce((r,m)=>typeof m=="string"?r+m:r,"")].reduce((r,m)=>typeof m=="string"?r+m:r,"")}const X=Ee(W,"Sega Sammy",De),Z=Me(X.header,X.titles,!0);function Ne(){const[l,s]=C.useState(""),[d,u]=C.useState(""),[r,m]=C.useState(0),[b,p]=C.useState("All"),[w,c]=C.useState(6),[n,o]=C.useState("FY Cumulative"),a=B(i=>i);let h=J.titleList.filter(i=>{if(b==="All")return i;if(b===i.platforms)return i}),f=j(Z.titleList,d),v=j(h,d),S=new Set;d.length!==0&&l==="Sega Sammy Software Units - Cumulative"?f.map(i=>[...i.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${d})\\w+`,"g"))].flat().map(e=>S.add(e))):d.length!==0&&l==="Sega Sammy FY Series IP - Cumulative"&&v.map(i=>[...i.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${d})\\w+`,"g"))].flat().map(e=>S.add(e)));let I=f.reduce((i,e)=>i+e.table,""),Y=Z.header+I,R=v.reduce((i,e)=>i+e.table,""),V=J.header+R;const U=[{value:"Sega Sammy Software Units - Cumulative",placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${r}`,description:"Clear field to show all titles of the selected platform"},{value:"Sega Sammy FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${r}`,description:"Clear field to show all game series listed."}].filter(i=>i.value===l);C.useEffect(()=>{switch(l){case"Sega Sammy Consolidated Operating Results - Cumulative":c(n==="1st Quarter"?0:n==="2nd Quarter"?1:n==="3rd Quarter"?2:n==="4th Quarter"?3:n==="First Half"?4:n==="First Three Quarters"?5:6);break;case"Sega Sammy Sales Per Software Unit - Cumulative":c(n==="1st Quarter"?0:n==="2nd Quarter"?1:n==="3rd Quarter"?2:n==="4th Quarter"?3:n==="First Half"?4:n==="First Three Quarters"?5:6);break;case"Sega Sammy Software Units - Cumulative":m(f.length);break;case"Sega Sammy FY Series IP - Cumulative":m(v.length);break}},[d,l,b,n]);const N=[{name:"Sega Sammy Consolidated Operating Results - Cumulative",value:Ue[w]},{name:"Sega Sammy Sales Per Software Unit - Cumulative",value:Ie[w]},{name:"Sega Sammy Software Units - Cumulative",value:Y},{name:"Sega Sammy FY Series IP - Cumulative",value:V}],$=N.map(i=>i.name),O=(i=>e=>{let[g]=i.filter(y=>e===y.name);return g?g.value:""})(N);return F("div",{children:[t(H,{fullWidth:!0,orientation:"vertical",value:l,onChange:s,data:$}),F(L,{onCopy:i=>le(i,re),style:{backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l==="Sega Sammy Consolidated Operating Results - Cumulative"||l==="Sega Sammy Sales Per Software Unit - Cumulative"?t(M,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:n,onChange:o}):void 0,l==="Sega Sammy FY Series IP - Cumulative"?t(M,{data:["All","Developed in-house IP","Acquired IP","Licensed third party IP"],defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:b,onChange:p}):void 0,l==="Sega Sammy Software Units - Cumulative"||l==="Sega Sammy FY Series IP - Cumulative"?F(ae,{children:[t(se,{placeholder:U[0].placeholder,label:U[0].label,description:U[0].description,radius:"xl",value:d,onChange:i=>{u(i.target.value.toLowerCase())}}),S.size>0&&d!==S.values().next().value?T(A("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,S.size>0&&d!==S.values().next().value?[...S].flatMap((i,e)=>e>3?[]:t(E,{onClick:()=>u(i),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:t(L,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},children:i})},i)):d===S.values().next().value||r===0?t(E,{onClick:()=>u(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:t(L,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${a.colour}`,color:a.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,t("br",{})]}):void 0,O(l)]}),t(D,{h:"xl"}),t(D,{h:"xl"}),t(D,{h:"xl"}),t(D,{h:"xl"})]})}const z=2023,$e=2023-2005,_=Array.from({length:$e+1},(l,s)=>"FY3/"+(z-s));function qe(){const l=T(A("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),d=de("Sega (They publish Hatsune Miku games), this is where you can find archived Sega Series IP data.",40,"−",80),[u,r]=C.useState(""),[m,b]=C.useState("Data by Fiscal Year"),p=B(n=>n),c=(n=>o=>{let[a]=n.map((f,v)=>o===f?v:-1).filter(f=>f!==-1),h=n.length;return a>=0?t(Ve,{setIndex:a,yearLength:h}):null})(_);return F("div",{children:[t(q,{mb:"md",align:"center",children:t(L,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:d})}),t(q,{align:"center",children:F(L,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[l,t(me,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:t(L,{style:{backgroundColor:`${p.colour}`,color:p.fontColor==="dark"?"#fff":"#000000"},block:!0,children:T(A("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),t(H,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:m,onChange:b,data:["Data by Fiscal Year","Special Page"]}),m==="Data by Fiscal Year"?t(fe,{position:"center",children:t(M,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${z-(_.length-1)} to ${z}.`,description:`Fiscal Year ending March ${Number(u==null?void 0:u.slice(4,8))?u==null?void 0:u.slice(4,8):""}.`,radius:"xl",size:"md",data:_,value:u,onChange:r})}):t(Ne,{}),m==="Data by Fiscal Year"&&typeof u=="string"?c(u):null]})}export{qe as default};
