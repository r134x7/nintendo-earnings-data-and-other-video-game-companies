import{d as z,l as w,b as j,s as U,h as q,r as b,u as P,t as J,c as e,j as S,C as g,F as H,p as T,B as I,f as K,g as Q,S as G,A as X,G as Z}from"./index-74f200b6.js";import{e as ee,f as ae,g as te}from"./sales_per_software_unit_cml-440b591b.js";import{p as re,a as le,b as oe,c as se,d as ne,f as O}from"./annual_report_cml_data-ae82d7b9.js";import{p as ie,q as ce,t as ue,G as de,S as $,c as M,d as V,u as me,a as he}from"./GRAPH_CONSOLIDATED_EARNINGS-f605bfa5.js";import{G as fe}from"./GRAPH_SOFTWARE_SALES-f34e9eb4.js";import{T as W}from"./TextInput-9ec2ad47.js";import{S as F}from"./Space-2d00707e.js";import"./ChevronIcon-4301d06b.js";const pe=[le,oe,se,ne],be=r=>r.series.map(l=>({title:l.title,releaseDate:l.releaseDate,fyEndMonth:l.fyEndMonth,value:l.value,valueLastFY:l.valueLastFY,valueLastTwoFYs:l.valueLastTwoFYs,miscellaneous:l.miscellaneous})),B=pe.map((r,n,l)=>{let t={bandaiNamcoHeader:"Bandai Namco - IP Series Data",secondHeader:"First appearance to recent FY",thirdHeader:"Rank",fourthHeader:"Units",ltd:"Life-To-Date",summaryHeader:" Placeholder",fiscalYear:r.fiscalYear,fiscalYearYoY:r.fiscalYear+" Cml. YoY%"},C=be(r).filter((a,i,f)=>a).sort((a,i)=>i.value-i.valueLastFY>a.value-a.valueLastFY?1:i.value-i.valueLastFY<a.value-a.valueLastFY?-1:0).map((a,i)=>({...a,rank:i+1})).map(a=>({title:a.title,table:re(a,t,42,11)}));const u=z(r.fiscalYear??"N/A",4),m=w(j([U(u,u.length+1,"left")]),"−","both",!0);return{header:q([t.bandaiNamcoHeader,t.secondHeader,t.thirdHeader,t.fourthHeader],32)+`
`+m,titleList:C}});function ve(r){const[n,l]=b.useState(""),t=P(s=>s),[d,c]=b.useState(""),[C,u]=b.useState(0);let m=-1,L=B==null?void 0:B[r.setIndex+m],a=new Set,i=J(L,"FY Series IP",n,d,a);const f=[{value:i.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${C}`,description:"Clear field to show all game series listed."}].filter(s=>s.value===n);b.useEffect(()=>{switch(n){case i.sectionTitle:u(i.titlesLength.length);break}},[d,n]);const k=Array.from({length:r.yearLength},(s,h)=>{var p,N,E;return[{name:"Data Sources",value:(p=ie)==null?void 0:p[h]},{name:"Consolidated Operating Results",value:(N=ce)==null?void 0:N[h],graph:e(de,{setData:ue[h]})},{name:"Software Sales",value:(E=ee)==null?void 0:E[h],graph:e(fe,{setData:ae[h]})},{name:"FY Series IP",value:i.table}].filter(_=>_.value!==void 0)}),x=k[r.setIndex].map(s=>s.name),Y=s=>h=>{let[p]=s.filter(N=>h===N.name);return(p==null?void 0:p.value)||""},v=(s=>h=>{let[p]=s.filter(N=>h===N.name);return p==null?void 0:p.graph})(k[r.setIndex]),y=Y(k[r.setIndex]);function D(){setTimeout(()=>{l("")},10)}return S("div",{children:[x.filter(s=>s===n).length===0&&n.length!==0?D():e($,{fullWidth:!0,orientation:"vertical",value:n,onChange:l,data:x}),n==="Data Sources"?y(n):S(g,{onCopy:s=>M(s,V),style:{backgroundColor:`${t.colour}`,color:t.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[n===i.sectionTitle?S(H,{children:[e(W,{placeholder:f[0].placeholder,label:f[0].label,description:f[0].description,radius:"xl",value:d,onChange:s=>{c(s.target.value.toLocaleLowerCase())}}),a.size>0&&d!==a.values().next().value?w(T("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,a.size>0&&d!==a.values().next().value?[...a].flatMap((s,h)=>h>3?[]:e(I,{onClick:()=>c(s),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:e(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${t.colour}`,color:t.fontColor==="dark"?"#fff":"#000000"},children:s})},s)):d===a.values().next().value||C===0?e(I,{onClick:()=>c(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:e(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${t.colour}`,color:t.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,e("br",{})]}):void 0,y(n)]}),v(n)]})}function ge(){const[r,n]=b.useState(""),l=P(o=>o),[t,d]=b.useState(""),[c,C]=b.useState(0);let u=K(O.titleList,t),m=new Set;t.length!==0&&r==="Bandai Namco FY Series IP - Cumulative"&&u.map(o=>[...o.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${t})\\w+`,"g"))].flat().map(v=>m.add(v)));let L=u.reduce((o,v)=>o+v.table,""),a=O.header+L;const i=[{value:"Bandai Namco FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${c}`,description:"Clear field to show all game series listed."}].filter(o=>o.value===r);b.useEffect(()=>{switch(r){case"Bandai Namco FY Series IP - Cumulative":C(u.length);break}},[t,r]);const f=[{name:"Bandai Namco Consolidated Operating Results - Cumulative",value:me},{name:"Bandai Namco Sales Per Software Unit - Cumulative",value:te},{name:"Bandai Namco FY Series IP - Cumulative",value:a}],k=f.map(o=>o.name),Y=(o=>v=>{let[y]=o.filter(D=>v===D.name);return y?y.value:""})(f);return S("div",{children:[e($,{fullWidth:!0,orientation:"vertical",value:r,onChange:n,data:k}),S(g,{onCopy:o=>M(o,V),style:{backgroundColor:`${l.colour}`,color:l.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[r==="Bandai Namco FY Series IP - Cumulative"?S(H,{children:[e(W,{placeholder:i[0].placeholder,label:i[0].label,description:i[0].description,radius:"xl",value:t,onChange:o=>{d(o.target.value.toLowerCase())}}),m.size>0&&t!==m.values().next().value?w(T("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,m.size>0&&t!==m.values().next().value?[...m].flatMap((o,v)=>v>3?[]:e(I,{onClick:()=>d(o),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:e(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${l.colour}`,color:l.fontColor==="dark"?"#fff":"#000000"},children:o})},o)):t===m.values().next().value||c===0?e(I,{onClick:()=>d(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:e(g,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${l.colour}`,color:l.fontColor==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,e("br",{})]}):void 0,Y(r)]}),e(F,{h:"xl"}),e(F,{h:"xl"}),e(F,{h:"xl"}),e(F,{h:"xl"})]})}const A=2023,R=Array.from({length:18},(r,n)=>"FY3/"+(A-n));function we(){const r=w(T("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),l=Q("Bandai Namco (They publish Dark Souls), this is where you can find archived Series IP data.",42,"−",80),[t,d]=b.useState("Data by Fiscal Year"),[c,C]=b.useState(""),u=P(a=>a),L=(a=>i=>{let[f]=a.map((x,Y)=>i===x?Y:-1).filter(x=>x!==-1),k=a.length;return f>=0?e(ve,{setIndex:f,yearLength:k}):null})(R);return S("div",{children:[e(G,{mb:"md",align:"center",children:e(g,{style:{backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},block:!0,children:l})}),e(G,{align:"center",children:S(g,{style:{backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},block:!0,children:[r,e(X,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:e(g,{style:{backgroundColor:`${u.colour}`,color:u.fontColor==="dark"?"#fff":"#000000"},block:!0,children:w(T("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),e($,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:t,onChange:d,data:["Data by Fiscal Year","Special Page"]}),t==="Data by Fiscal Year"?e(Z,{position:"center",children:e(he,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${A-(R.length-1)} to ${A}.`,description:`Fiscal Year ending March ${Number(c==null?void 0:c.slice(4,8))?c==null?void 0:c.slice(4,8):""}.`,radius:"xl",size:"md",data:R,value:c,onChange:C})}):e(ge,{}),t==="Data by Fiscal Year"&&typeof c=="string"?L(c):null]})}export{we as default};
