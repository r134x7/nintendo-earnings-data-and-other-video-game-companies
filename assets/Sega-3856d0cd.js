import{g as ae,r as C,u as P,k as ce,t as me,e as a,j as x,C as L,F as le,l as T,p as A,B as D,d as de,b as I,s as k,f as z,m as fe,A as Se,S as q,G as ge}from"./index-199c228a.js";import{s as he,b as pe}from"./segment_earnings_general_cml_data-08e1132a.js";import{s as ve,d as Ce,e as be,_ as _e,f as we,g as ye,h as Te,p as ke}from"./annual_report_general-cbf02344.js";import{a as Le,g as xe,e as Fe,f as Ie,h as Pe,i as Ae,j as Ye,G as Re,s as Ue}from"./GRAPH_SOFTWARE_SALES-1d82fec3.js";import{s as $e,l as Ge,m as De,G as Ee,S as H,a as re,b as E,d as se,o as Me}from"./GRAPH_CONSOLIDATED_EARNINGS-d37cb62f.js";import{G as Qe}from"./GRAPH_NINTENDO_GLOBAL_HARDWARE_SOFTWARE_MOBILE-9de8601d.js";import{T as oe}from"./TextInput-3ed29c73.js";import{s as J}from"./annual_report_cumulative-3046a492.js";import{S as G}from"./Space-9db0af1e.js";import"./ChevronIcon-b1968311.js";const ie=ae(new Map,Object.assign({"./Software_Sales/software_sales_fy3_2020.json":Fe,"./Software_Sales/software_sales_fy3_2021.json":Ie,"./Software_Sales/software_sales_fy3_2022.json":Pe,"./Software_Sales/software_sales_fy3_2023.json":Ae,"./Software_Sales/software_sales_fy3_2024.json":Ye}),"Descending"),ne=new Map,ue=new Map;ie.forEach((r,n,c)=>{ne.set(n,Le(r,c.get(n+1),38,"Billion","One Thousand")),ue.set(n,xe(r,c.get(n+1),"Billion","One Thousand"))});ie.clear();function Ve(r){var o;const[n,c]=C.useState(""),d=P(e=>e.colour),u=P(e=>e.fontColor),[m,b]=C.useState(""),[v,h]=C.useState(0),[t,l]=C.useState("All");let i=-1,s=ve.get(r.setIndex+i),f=s===void 0?void 0:[s],w=(o=Ce)==null?void 0:o[r.setIndex],_=new Set,g=new Set,p=ce(f,(s==null?void 0:s.header)??"ERROR","FY Series IP",n,t??"All","Single","Single",_,m,g),F=me(w,"Software Units",n,m,g);const Y=[{value:F.sectionTitle,placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${v}`,description:"Clear field to show all titles of the selected platform"},{value:p.sectionTitle,placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${v}`,description:"Clear field to show all game series listed."}].filter(e=>e.value===n);C.useEffect(()=>{switch(n){case p.sectionTitle:h(p.titlesLength.length);let e=[..._].filter(S=>S===t);((e==null?void 0:e.length)??0)===0&&l("All");break;case F.sectionTitle:h(F.titlesLength.length);break}},[n,m,t,r.setIndex,_]);const R=Array.from({length:r.yearLength},(e,S)=>[{name:"Data Sources",value:$e.get(S)},{name:"Consolidated Operating Results",value:Ge.get(S),graph:a(Ee,{setData:De.get(S)})},{name:"Segment Information",value:he.get(S)},{name:"Software Sales",value:ne.get(S),graph:a(Re,{setData:ue.get(S)})},{name:"Software Units",value:F.table,graph:a(Qe,{setData:be[S]})},{name:"FY Series IP",value:p.table}].filter(y=>y.value!==void 0)),$=R[r.setIndex].map(e=>e.name),U=e=>S=>{let[y]=e.filter(j=>S===j.name);return(y==null?void 0:y.value)||""},V=(e=>S=>{let[y]=e.filter(j=>S===j.name);return y==null?void 0:y.graph})(R[r.setIndex]),N=U(R[r.setIndex]);function O(){setTimeout(()=>{c("")},10)}return x("div",{children:[$.filter(e=>e===n).length===0&&n.length!==0?O():a(H,{fullWidth:!0,orientation:"vertical",value:n,onChange:c,data:$}),n==="Data Sources"?N(n):x(L,{onCopy:e=>re(e,se),style:{backgroundColor:`${d}`,color:u==="dark"?"#fff":"#000000"},block:!0,children:[n===p.sectionTitle?a(E,{data:["All"].concat([..._]),defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:t,onChange:l}):void 0,n===p.sectionTitle||n===F.sectionTitle?x(le,{children:[a(oe,{placeholder:Y[0].placeholder,label:Y[0].label,description:Y[0].description,radius:"xl",value:m,onChange:e=>{b(e.target.value.toLowerCase())}}),g.size>0&&m!==g.values().next().value?T(A("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,g.size>0&&m!==g.values().next().value?[...g].flatMap((e,S)=>S>3?[]:a(D,{onClick:()=>b(e),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:a(L,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${d}`,color:u==="dark"?"#fff":"#000000"},children:e})},e)):m===g.values().next().value||v===0?a(D,{onClick:()=>b(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:a(L,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${d}`,color:u==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,a("br",{})]}):void 0,N(n)]}),V(n)]})}const B=[...ae(new Map,Object.assign({"./Software_Units/software_units_fy3_2021.json":_e,"./Software_Units/software_units_fy3_2022.json":we,"./Software_Units/software_units_fy3_2023.json":ye,"./Software_Units/software_units_fy3_2024.json":Te}),"Ascending").values()];var ee,te;const K=de(((ee=B.at(-1))==null?void 0:ee.fiscalYear)??"N/A",((te=B.at(-1))==null?void 0:te.currentQuarter)??4),Ne=T(I([k(K,K.length+1,"left")]),"−","bottom",!0);function Oe(r,n,c){let d=T(I([k(n,n.length+1,"left")]),"−","top",!0)+T(I([k("Full Game Software Unit Sales - Cumulative",43,"left")]),"−","both",!0)+c,u=r.map(i=>{let s=i.softwareUnits.flatMap(w=>ke(w)),f=i.fiscalYear;return s.map(w=>({...w,fiscalYear:f}))}),m=u.flat().filter(i=>i.period==="4th Quarter"),b=u.flat().map(i=>i.name);const v=[...new Set(b)];function h(i){return i.map((s,f,w)=>m.filter(g=>g.name===s))}let l=h(v).map((i,s,f)=>i).sort((i,s)=>s[s.length-1].value>i[i.length-1].value?1:s[s.length-1].value<i[i.length-1].value?-1:0).map((i,s)=>{let f=s+1;return i.map(w=>({...w,rank:f}))});return{header:d,titles:l}}function je(r,n,c){const d=n.map((u,m,b)=>{let v=T(A(u[0].name,42),"−","both",!0,42),h=u[u.length-1].miscellaneous===void 0?void 0:u[u.length-1].miscellaneous,t=u.flatMap(s=>I([k(s.fiscalYear+" Cumulative",30,"left"),k(`${s.value/100}M`,9,"right")],!0)),l=Number(u.reduce((s,f)=>s+f.value,0)/100).toFixed(2),i=h===void 0?T(I([k("Sum (Units)",30,"left"),k(`${l}M`,9,"right")]),"−","both",!0):T(I([k("Sum",30,"left"),k(`${l}M`,9,"right")]),"−","both",!0)+T(A(h,42),"−","bottom",!0,42);return c?{title:u[0].name,table:[v,...t,i].reduce((s,f)=>s+f)}:[v,...t,i].reduce((s,f)=>s+f)});return c?{header:r,titleList:d}:[r,d.reduce((u,m)=>typeof m=="string"?u+m:u,"")].reduce((u,m)=>typeof m=="string"?u+m:u,"")}const X=Oe(B,"Sega Sammy",Ne),Z=je(X.header,X.titles,!0);function We(){const[r,n]=C.useState(""),[c,d]=C.useState(""),[u,m]=C.useState(0),[b,v]=C.useState("All"),[h,t]=C.useState(6),[l,i]=C.useState("FY Cumulative"),s=P(o=>o.colour),f=P(o=>o.fontColor);let w=J.titleList.filter(o=>{if(b==="All")return o;if(b===o.platforms)return o}),_=z(Z.titleList,c),g=z(w,c),p=new Set;c.length!==0&&r==="Sega Sammy Software Units - Cumulative"?_.map(o=>[...o.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${c})\\w+`,"g"))].flat().map(e=>p.add(e))):c.length!==0&&r==="Sega Sammy FY Series IP - Cumulative"&&g.map(o=>[...o.title.toLowerCase().matchAll(new RegExp(`(?=\\w*${c})\\w+`,"g"))].flat().map(e=>p.add(e)));let F=_.reduce((o,e)=>o+e.table,""),Y=Z.header+F,R=g.reduce((o,e)=>o+e.table,""),$=J.header+R;const U=[{value:"Sega Sammy Software Units - Cumulative",placeholder:"Search specific titles or game series",label:`Title/Series Search - Number of Titles/Series shown: ${u}`,description:"Clear field to show all titles of the selected platform"},{value:"Sega Sammy FY Series IP - Cumulative",placeholder:"Search specific series",label:`Series Search - Number of game series shown: ${u}`,description:"Clear field to show all game series listed."}].filter(o=>o.value===r);C.useEffect(()=>{switch(r){case"Sega Sammy Consolidated Operating Results - Cumulative":t(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Sega Sammy Segment Information - Cumulative":t(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Sega Sammy Sales Per Software Unit - Cumulative":t(l==="1st Quarter"?0:l==="2nd Quarter"?1:l==="3rd Quarter"?2:l==="4th Quarter"?3:l==="First Half"?4:l==="First Three Quarters"?5:6);break;case"Sega Sammy Software Units - Cumulative":m(_.length);break;case"Sega Sammy FY Series IP - Cumulative":m(g.length);break}},[c,r,b,l]);const Q=[{name:"Sega Sammy Consolidated Operating Results - Cumulative",value:Me[h]},{name:"Sega Sammy Segment Information - Cumulative",value:pe[h]},{name:"Sega Sammy Sales Per Software Unit - Cumulative",value:Ue[h]},{name:"Sega Sammy Software Units - Cumulative",value:Y},{name:"Sega Sammy FY Series IP - Cumulative",value:$}],V=Q.map(o=>o.name),O=(o=>e=>{let[S]=o.filter(y=>e===y.name);return S?S.value:""})(Q);return x("div",{children:[a(H,{fullWidth:!0,orientation:"vertical",value:r,onChange:n,data:V}),x(L,{onCopy:o=>re(o,se),style:{backgroundColor:`${s}`,color:f==="dark"?"#fff":"#000000"},block:!0,children:[r==="Sega Sammy Consolidated Operating Results - Cumulative"||r==="Sega Sammy Segment Information - Cumulative"||r==="Sega Sammy Sales Per Software Unit - Cumulative"?a(E,{data:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter","First Half","First Three Quarters","FY Cumulative"],defaultValue:"FY Cumulative",label:"Select a time period:",radius:"xl",value:l,onChange:i}):void 0,r==="Sega Sammy FY Series IP - Cumulative"?a(E,{data:["All","Developed in-house IP","Acquired IP","Licensed third party IP"],defaultValue:"All",label:"Select all or one IP Type:",radius:"xl",value:b,onChange:v}):void 0,r==="Sega Sammy Software Units - Cumulative"||r==="Sega Sammy FY Series IP - Cumulative"?x(le,{children:[a(oe,{placeholder:U[0].placeholder,label:U[0].label,description:U[0].description,radius:"xl",value:c,onChange:o=>{d(o.target.value.toLowerCase())}}),p.size>0&&c!==p.values().next().value?T(A("Nearest single word search: (To use, click on a word)",40),"−","both",!0,40):void 0,p.size>0&&c!==p.values().next().value?[...p].flatMap((o,e)=>e>3?[]:a(D,{onClick:()=>d(o),radius:"xl",ml:"sm",mb:"sm",variant:"subtle",compact:!0,children:a(L,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${s}`,color:f==="dark"?"#fff":"#000000"},children:o})},o)):c===p.values().next().value||u===0?a(D,{onClick:()=>d(""),radius:"xl",m:"sm",variant:"subtle",compact:!0,children:a(L,{style:{border:"solid",borderWidth:"1px",borderRadius:"16px",backgroundColor:`${s}`,color:f==="dark"?"#fff":"#000000"},children:"Clear Search"})}):void 0,a("br",{})]}):void 0,O(r)]}),a(G,{h:"xl"}),a(G,{h:"xl"}),a(G,{h:"xl"}),a(G,{h:"xl"})]})}const M=2024,Be=M-2005,W=Array.from({length:Be+1},(r,n)=>"FY3/"+(M-n));function lt(){const r=T(A("While you're here, you can head to Install Base to read about the mysterious Sega Super Genesis 32.",40),"=","top",!0,40),c=fe("Sega (They publish Hatsune Miku games), this is where you can find archived Sega Series IP data.",40,"−",80),[d,u]=C.useState(""),[m,b]=C.useState("Data by Fiscal Year"),v=P(i=>i.colour),h=P(i=>i.fontColor),l=(i=>s=>{let[f]=i.map((_,g)=>s===_?g:-1).filter(_=>_!==-1),w=i.length;return f>=0?a(Ve,{setIndex:f,yearLength:w}):null})(W);return x("div",{children:[a(q,{mb:"md",align:"center",children:a(L,{style:{backgroundColor:`${v}`,color:h==="dark"?"#fff":"#000000"},block:!0,children:c})}),a(q,{align:"center",children:x(L,{style:{backgroundColor:`${v}`,color:h==="dark"?"#fff":"#000000"},block:!0,children:[r,a(Se,{className:"fade",style:{textAlign:"center"},mb:"sm",href:"https://www.installbaseforum.com/forums/threads/ggx2ac-and-the-mysterious-case-of-the-sega-trademark-super-genesis-32.915/",target:"_blank",children:a(L,{style:{backgroundColor:`${v}`,color:h==="dark"?"#fff":"#000000"},block:!0,children:T(A("Link to Install Base Forum thread",36),"=","both",!0,36)})})]})}),a(H,{mb:"sm",mt:"sm",fullWidth:!0,orientation:"horizontal",value:m,onChange:b,data:["Data by Fiscal Year","Special Page"]}),m==="Data by Fiscal Year"?a(ge,{position:"center",children:a(E,{dropdownPosition:"bottom",mb:"sm",mr:"md",placeholder:"Select",label:`Select a Fiscal Year from ${M-(W.length-1)} to ${M}.`,description:`Fiscal Year ending March ${Number(d==null?void 0:d.slice(4,8))?d==null?void 0:d.slice(4,8):""}.`,radius:"xl",size:"md",data:W,value:d,onChange:u})}):a(We,{}),m==="Data by Fiscal Year"&&typeof d=="string"?l(d):null]})}export{lt as default};
